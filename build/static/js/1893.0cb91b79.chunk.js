"use strict";(self.webpackChunkpaymaster_crm=self.webpackChunkpaymaster_crm||[]).push([[1893],{1893:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var n=t(9950),a=t(2436),i=t(249),r=t(2610),l=t(3563),c=t(8394),o=t(7324),d=t(4745),h=t(9845),x=t(4414);function u(){const{user:e,setUser:s}=(0,n.useContext)(a.R),[u,m]=(0,n.useState)(!1),[A,b]=(0,n.useState)(null),{setAlert:j}=(0,n.useContext)(h.C);(0,n.useEffect)((()=>{e&&(m(e.isTwoFactorEnabled||!1),b(e.qrCodeImage||null))}),[e]);return(0,x.jsx)(c.A,{container:!0,children:(0,x.jsx)(c.A,{size:12,children:(0,x.jsx)("div",{children:(0,x.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,x.jsxs)(i.A,{sx:{width:"100%"},children:[(0,x.jsxs)(r.Ay,{alignItems:"flex-start",children:[(0,x.jsx)(l.A,{primary:"WebAuthn Registration (for password-less login)"}),(0,x.jsx)(l.A,{secondary:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{style:{marginTop:0},className:"btn",onClick:async()=>{const{initiateWebauthnRegistration:e}=await t.e(4137).then(t.bind(t,4137));e(j)},children:"Enable on this device"}),(0,x.jsx)("button",{style:{marginTop:0,marginLeft:"10px"},className:"btn",onClick:async()=>{const{disableWebAuthn:e}=await t.e(9604).then(t.bind(t,9604));e(j)},children:"Disable"})]})})]}),(0,x.jsx)(d.A,{variant:"fullWidth",component:"li"}),(0,x.jsxs)(r.Ay,{alignItems:"flex-start",children:[(0,x.jsx)(l.A,{primary:"Google Authenticator (2FA)"}),(0,x.jsx)(l.A,{secondary:(0,x.jsx)(o.A,{checked:u,onChange:async n=>{if(n.target.checked){const{enableTwoFactor:n}=await t.e(9970).then(t.bind(t,9970));n(e,m,b,s)}else{const{disableTwoFactor:e}=await t.e(2221).then(t.bind(t,2221));e(m,j)}}})})]}),u&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(r.Ay,{alignItems:"flex-start",children:[(0,x.jsx)(l.A,{primary:"Scan the QR code below to enable 2FA using Google Authenticator App"}),(0,x.jsx)(l.A,{})]}),(0,x.jsx)("img",{src:A,alt:"QR code"})]})]})})})})})}const m=n.memo(u)}}]);