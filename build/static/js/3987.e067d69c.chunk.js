"use strict";(self.webpackChunkpaymaster_crm=self.webpackChunkpaymaster_crm||[]).push([[3987],{1637:(e,a,n)=>{n.d(a,{U:()=>t});const t=["January","February","March","April","May","June","July","August","September","October","November","December"]},5413:(e,a,n)=>{n.d(a,{m:()=>t});const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},3557:(e,a,n)=>{n.d(a,{A:()=>u});var t=n(9950),i=n(9254),s=n(226),r=n(6639),l=n(5112),o=n(4414);const c={margin:0,width:20,height:20,marginRight:10,color:"#fff"};function d(e){const{theme:a}=t.useContext(l.D),n=(0,i.Ay)(s.A)({backgroundColor:"light"===a?"#111b21":"#0c3f61",color:"#fff",padding:"8px 20px",cursor:"pointer",boxShadow:"0 0 20px 1px rgba(0, 0, 0, 0.3)",borderRadius:"8px",marginTop:"10px",textTransform:"none",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{backgroundColor:"light"===a?"#111b21":"#0c3f61",boxShadow:"0 0 20px 1px rgba(0, 0, 0, 0.3)"}});return(0,o.jsx)(n,{startIcon:e.isSubmitting?(0,o.jsx)(t.Suspense,{fallback:(0,o.jsx)(r.A,{style:c}),children:(0,o.jsx)(r.A,{style:c})}):null,type:"submit",disableRipple:!0,variant:"contained",disabled:e.isSubmitting,children:e.name})}const u=t.memo(d)},6888:(e,a,n)=>{n.d(a,{A:()=>u});var t=n(9950),i=n(8145),s=n(3266),r=n(5333),l=n(8008),o=n(8992),c=n(4414);const d=e=>{let{id:a,name:n,label:t,formik:d,type:u="text",options:m=[],select:h=!1,useSpeech:p,children:x,...j}=e;const b=(0,o.A)(d),g="undefined"!==typeof window&&(window.SpeechRecognition||window.webkitSpeechRecognition);return(0,c.jsxs)("div",{className:"flex-div",style:{width:"100%"},children:[(0,c.jsx)("div",{style:{flex:1},children:(0,c.jsx)(i.A,{select:h,type:u,size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:a,name:n,label:t,value:d.values[n],onChange:d.handleChange,error:d.touched[n]&&Boolean(d.errors[n]),helperText:d.touched[n]&&d.errors[n],className:"login-input",InputLabelProps:{shrink:!0},...j,children:h&&m.map((e=>(0,c.jsx)(s.A,{value:e.value,children:e.label},e.value)))})}),p&&g&&(0,c.jsx)(r.A,{onClick:()=>b(n),children:(0,c.jsx)(l.A,{})})]})},u=t.memo(d)},1407:(e,a,n)=>{n.d(a,{A:()=>d});var t=n(9950),i=n(9254),s=n(226),r=n(2647),l=n(5112),o=n(4414);const c=t.forwardRef(((e,a)=>{let{name:n,onChange:c}=e;const{theme:d}=t.useContext(l.D),u=(0,i.Ay)(s.A)({backgroundColor:"light"===d?"#111b21":"#0c3f61",color:"#fff",padding:"8px 20px",cursor:"pointer",boxShadow:"0 0 20px 1px rgba(0, 0, 0, 0.3)",borderRadius:"8px",marginTop:"10px",textTransform:"none",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{backgroundColor:"light"===d?"#111b21":"#0c3f61",boxShadow:"0 0 20px 1px rgba(0, 0, 0, 0.3)"}}),m=(0,i.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});return(0,o.jsxs)(u,{component:"label",role:void 0,variant:"contained",tabIndex:-1,onChange:c,startIcon:(0,o.jsx)(t.Suspense,{fallback:(0,o.jsx)("div",{children:"Loading Icon..."}),children:(0,o.jsx)(r.A,{style:{margin:0,width:20,height:20,marginRight:10,color:"#fff"}})}),children:[n,(0,o.jsx)(m,{type:"file",multiple:!0})]})})),d=t.memo(c)},7333:(e,a,n)=>{n.r(a),n.d(a,{default:()=>D});var t=n(9950),i=n(3939),s=n(5333),r=n(8145),l=n(8394);const o=["Andaman and Nicobar Islands","Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chandigarh","Chhattisgarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Goa","Gujarat","Haryana","Himachal Pradesh","Jammu and Kashmir","Jharkhand","Karnataka","Kerala","Ladakh","Lakshadweep","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Puducherry","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal"];var c=n(6557),d=n(6497),u=n(3038),m=n(8785),h=n(9714);const p=/[a-zA-Z0-9_]+(\.)?[a-zA-Z0-9_]+[@]{1}[a-zA-Z]+\.[a-zA-Z]{2,6}/,x=/^\d{6}$/,j=h.Ik({employee_photo:h.Yj("Upload Employee photo").required("Employee photo is required"),designation:h.Yj("Enter designation").required("Designation is required"),department:h.Yj("Enter department").required("Department is required"),joining_date:h.Yj("Enter joining date").required("Joining date is required"),dob:h.Yj("Enter date of birth").required("Date of birth is required"),permanent_address_line_1:h.Yj("Enter address line 1").required("Address line 1 is required"),permanent_address_line_2:h.Yj("Enter address line 2").required("Address line 2 is required"),permanent_address_city:h.Yj("Enter city").required("City is required"),permanent_address_state:h.Yj("Enter state").required("State is required"),permanent_address_pincode:h.Yj("Enter pincode").required("Pincode is required").matches(x,"Invalid pincode"),communication_address_line_1:h.Yj("Enter address line 1").required("Address line 1 is required"),communication_address_line_2:h.Yj("Enter address line 2").required("Address line 2 is required"),communication_address_city:h.Yj("Enter city").required("City is required"),communication_address_state:h.Yj("Enter state").required("State is required"),communication_address_pincode:h.Yj("Enter pincode").required("Pincode is required").matches(x,"Invalid pincode"),email:h.Yj().email("Invalid email").matches(p,"Invalid official email"),official_email:h.Yj().email("Invalid email").matches(p,"Invalid official email"),mobile:h.Yj("Enter mobile number").required("Mobile number is required").matches(/^[6-9]\d{9}$/,"Invalid mobile"),blood_group:h.Yj("Enter blood group").required("Blood group is required"),qualification:h.Yj("Enter highest qualification").required("Highest qualification is required"),aadhar_no:h.Yj("Enter AADHAR no").required("AADHAR no is required").matches(/^\d{12}$/,"Invalid AADHAR no"),aadhar_photo_front:h.Yj("Enter AADHAR photo front").required("AADHAR photo front is required"),aadhar_photo_back:h.Yj("Enter AADHAR photo back").required("AADHAR photo back is required"),pan_no:h.Yj("Enter PAN no").required("PAN no is required").matches(/^[A-Z]{5}\d{4}[A-Z]$/,"Invalid PAN no"),pan_photo:h.Yj("Upload PAN photo").required("PAN photo is required"),education_certificates:h.YO().of(h.Yj("Each file should be a valid URL").url("Invalid file URL").required("File URL is required")).min(1,"At least one education certificate is required").required("Education certificates are required"),experience_certificate:h.Yj("Upload experience certificates").required("Experience certificates are required"),electricity_bill:h.Yj("Upload electricity bill/ rent agreement").required("Electricity bill/ rent agreement is required"),dra:h.zM(),dra_certificate:h.Yj().when("dra",{is:!0,then:e=>e.required("DRA certificate is required"),otherwise:e=>e.notRequired()}),insurance_status:h.YO().of(h.Yj()).min(1,"At least one insurance status is required").required("Insurance status is required"),bank_account_no:h.Yj("Enter bank account no").required("Bank account no is required"),bank_name:h.Yj("Enter bank name").required("Bank name is required"),ifsc_code:h.Yj("Enter IFSC code").required("IFSC code is required")});var b=n(8429),g=n(3557),A=n(1407),f=n(7256);const y=(e,a,n)=>{const{value:t}=e.target,i=t.replace(/\D/g,"").slice(0,6);n.setFieldValue(a,i)},v=(e,a)=>{const n=e.target.name,t=e.target.checked,i=a.values.insurance_status;let s=[];s=t?[...i,n]:i.filter((e=>e!==n)),a.setFieldValue("insurance_status",s)};var _=n(6888),w=n(760),k=n(9845),S=n(3785),C=n(4414);function E(e){const[a,n]=(0,t.useState)(!1),{username:h}=(0,b.g)(),p=(0,t.useRef)({employeePhoto:null,aadharPhotoFront:null,aadharPhotoBack:null,panPhoto:null,educationCertificates:null,experienceCertificate:null,electricityBill:null,pcc:null,draCertificate:null}),{setAlert:x}=(0,t.useContext)(k.C),E=(0,i.Wx)({initialValues:{first_name:"",middle_name:"",last_name:"",dob:"",permanent_address_line_1:"",permanent_address_line_2:"",permanent_address_city:"",permanent_address_state:"",permanent_address_pincode:"",communication_address_line_1:"",communication_address_line_2:"",communication_address_city:"",communication_address_state:"",communication_address_pincode:"",email:"",official_email:"",mobile:"",blood_group:"",qualification:"",aadhar_no:"",aadhar_photo_front:"",aadhar_photo_back:"",pan_no:"",pan_photo:"",education_certificates:[],experience_certificate:"",electricity_bill:"",pcc:"",dra:!1,dra_certificate:"",pf_no:"",esic_no:"",insurance_status:[],bank_account_no:"",bank_name:"",ifsc_code:""},validationSchema:j,onSubmit:async a=>{try{const n=await S.A.post("/complete-kyc",{...a,username:e.username});x({open:!0,message:n.data.message,severity:"success"})}catch(n){x({open:!0,message:"Network Error"===n.message?"Network Error, your details will be submitted when you are back online":n.response.data.message,severity:"error"})}}});return(0,t.useEffect)((()=>{!async function(){if(h)try{const e=await(0,S.A)(`/get-user-data/${h}`);E.setValues(e.data)}catch(e){console.error("Error occurred while fetching user data:",e)}}()}),[h]),(0,C.jsxs)("form",{onSubmit:E.handleSubmit,children:[(0,C.jsx)(l.A,{container:!0,spacing:1,children:(0,C.jsxs)(l.A,{size:4,children:[(0,C.jsx)(A.A,{name:"Photo",onChange:e=>{(0,f.handleFileUpload)(e,"employee_photo","kyc",E,n,!1)},ref:e=>p.current.employeePhoto=e}),(0,C.jsx)("br",{}),E.values.employee_photo&&E.values.employee_photo.length>0?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("br",{}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("a",{href:E.values.employee_photo,children:"View"}),(0,C.jsx)("br",{})]}),(0,C.jsx)(s.A,{onClick:()=>E.setFieldValue("employee_photo",[]),children:(0,C.jsx)(w.A,{})})]})]}):"",E.touched.employee_photo&&E.errors.employee_photo?(0,C.jsx)("div",{style:{color:"red"},children:E.errors.employee_photo}):null]})}),(0,C.jsxs)(l.A,{container:!0,spacing:1,children:[(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(_.A,{id:"dob",name:"dob",label:"Date of Birth",formik:E,type:"date"})}),(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(_.A,{id:"email",name:"email",label:"Email",formik:E})}),(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(_.A,{id:"official_email",name:"official_email",label:"Official Email",formik:E})})]}),(0,C.jsxs)(l.A,{container:!0,spacing:1,children:[(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(r.A,{size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:"mobile",name:"mobile",label:"Mobile",value:E.values.mobile,error:E.touched.mobile&&Boolean(E.errors.mobile),helperText:E.touched.mobile&&E.errors.mobile,className:"login-input",InputLabelProps:{shrink:!0},onChange:e=>{(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&E.handleChange(e)},inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:10}})}),(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(_.A,{id:"blood_group",name:"blood_group",label:"Blood Group",formik:E})}),(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(_.A,{id:"qualification",name:"qualification",label:"Highest Qualification",formik:E})})]}),(0,C.jsx)("br",{}),(0,C.jsx)("h5",{children:"Permanent Address"}),(0,C.jsx)(_.A,{id:"permanent_address_line_1",name:"permanent_address_line_1",label:"Address Line 1",formik:E}),(0,C.jsx)(_.A,{id:"permanent_address_line_2",name:"permanent_address_line_2",label:"Address Line 2",formik:E}),(0,C.jsxs)(l.A,{container:!0,spacing:1,children:[(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(_.A,{id:"permanent_address_city",name:"permanent_address_city",label:"City",formik:E})}),(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(_.A,{id:"permanent_address_state",name:"permanent_address_state",label:"State",formik:E,select:!0,options:o.map((e=>({value:e,label:e})))})}),(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(r.A,{size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:"permanent_address_pincode",name:"permanent_address_pincode",label:"PIN Code",value:E.values.permanent_address_pincode,onChange:e=>y(e,"permanent_address_pincode",E),error:E.touched.permanent_address_pincode&&Boolean(E.errors.permanent_address_pincode),helperText:E.touched.permanent_address_pincode&&E.errors.permanent_address_pincode,className:"login-input",InputLabelProps:{shrink:!0}})})]}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("h5",{children:"Communication Address"}),(0,C.jsx)(d.A,{control:(0,C.jsx)(u.A,{name:"sameAsPermanentAddress",onChange:e=>((e,a)=>{e.target.checked?a.setValues({...a.values,communication_address_line_1:a.values.permanent_address_line_1,communication_address_line_2:a.values.permanent_address_line_2,communication_address_city:a.values.permanent_address_city,communication_address_area:a.values.permanent_address_area,communication_address_state:a.values.permanent_address_state,communication_address_pincode:a.values.permanent_address_pincode}):a.setValues({...a.values,communication_address_line_1:"",communication_address_line_2:"",communication_address_city:"",communication_address_area:"",communication_address_state:"",communication_address_pincode:""})})(e,E)}),label:"Same as Permanent Address"}),(0,C.jsx)(_.A,{id:"communication_address_line_1",name:"communication_address_line_1",label:"Address Line 1",formik:E}),(0,C.jsx)(_.A,{id:"communication_address_line_2",name:"communication_address_line_2",label:"Address Line 2",formik:E}),(0,C.jsxs)(l.A,{container:!0,spacing:1,children:[(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(_.A,{id:"communication_address_city",name:"communication_address_city",label:"City",formik:E})}),(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(_.A,{id:"communication_address_state",name:"communication_address_state",label:"State",formik:E,select:!0,options:o.map((e=>({value:e,label:e})))})}),(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(r.A,{size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:"communication_address_pincode",name:"communication_address_pincode",label:"PIN Code",value:E.values.communication_address_pincode,onChange:e=>y(e,"communication_address_pincode",E),error:E.touched.communication_address_pincode&&Boolean(E.errors.communication_address_pincode),helperText:E.touched.communication_address_pincode&&E.errors.communication_address_pincode,className:"login-input",InputLabelProps:{shrink:!0}})})]}),(0,C.jsx)("br",{}),(0,C.jsx)("h5",{children:"Documents"}),(0,C.jsxs)(l.A,{container:!0,spacing:1,children:[(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(r.A,{size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:"aadhar_no",name:"aadhar_no",label:"Aadhar Number",value:E.values.aadhar_no,onChange:e=>((e,a)=>{const{value:n}=e.target,t=n.replace(/\D/g,"").slice(0,12);a.setFieldValue("aadhar_no",t)})(e,E),inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:12},error:E.touched.aadhar_no&&Boolean(E.errors.aadhar_no),helperText:E.touched.aadhar_no&&E.errors.aadhar_no,className:"login-input",InputLabelProps:{shrink:!0}})}),(0,C.jsxs)(l.A,{size:4,children:[(0,C.jsx)(A.A,{name:"Aadhar Photo Front",onChange:e=>{(0,f.handleFileUpload)(e,"aadhar_photo_front","kyc",E,n,!1)},ref:e=>p.current.aadharPhotoFront=e}),(0,C.jsx)("br",{}),E.values.aadhar_photo_front&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("br",{}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,C.jsx)("a",{href:E.values.aadhar_photo_front,children:"View"}),(0,C.jsx)(s.A,{onClick:()=>E.setFieldValue("aadhar_photo_front",""),children:(0,C.jsx)(w.A,{})})]})]}),E.touched.aadhar_photo_front&&E.errors.aadhar_photo_front?(0,C.jsx)("div",{style:{color:"red"},children:E.errors.aadhar_photo_front}):null]}),(0,C.jsxs)(l.A,{size:4,children:[(0,C.jsx)(A.A,{name:"Aadhar Photo Front",onChange:e=>{(0,f.handleFileUpload)(e,"aadhar_photo_back","kyc",E,n,!1)},ref:e=>p.current.aadharPhotoBack=e}),(0,C.jsx)("br",{}),E.values.aadhar_photo_back&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("br",{}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,C.jsx)("a",{href:E.values.aadhar_photo_back,children:"View"}),(0,C.jsx)(s.A,{onClick:()=>E.setFieldValue("aadhar_photo_back",""),children:(0,C.jsx)(w.A,{})})]})]}),E.touched.aadhar_photo_back&&E.errors.aadhar_photo_back?(0,C.jsx)("div",{style:{color:"red"},children:E.errors.aadhar_photo_back}):null]})]}),(0,C.jsxs)(l.A,{container:!0,spacing:1,children:[(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(r.A,{size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:"pan_no",name:"pan_no",label:"PAN Number",value:E.values.pan_no,onChange:e=>{var a;(null===(a=e.target.value)||void 0===a?void 0:a.length)<=10&&E.handleChange(e)},inputProps:{maxLength:10,pattern:"[A-Za-z0-9]*"},error:E.touched.pan_no&&Boolean(E.errors.pan_no),helperText:E.touched.pan_no&&E.errors.pan_no,className:"login-input",InputLabelProps:{shrink:!0}})}),(0,C.jsxs)(l.A,{size:4,children:[(0,C.jsx)(A.A,{name:"PAN Photo",onChange:e=>{(0,f.handleFileUpload)(e,"pan_photo","kyc",E,n,!1)},ref:e=>p.current.panPhoto=e}),(0,C.jsx)("br",{}),""!==E.values.pan_photo?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("br",{}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,C.jsx)("a",{href:E.values.pan_photo,children:"View"}),(0,C.jsx)(s.A,{onClick:()=>E.setFieldValue("pan_photo",""),children:(0,C.jsx)(w.A,{})})]})]}):"",E.touched.pan_photo&&E.errors.pan_photo?(0,C.jsx)("div",{style:{color:"red"},children:E.errors.pan_photo}):null]})]}),(0,C.jsxs)(l.A,{container:!0,spacing:1,children:[(0,C.jsxs)(l.A,{size:4,children:[(0,C.jsx)(A.A,{name:"Education Certificates",onChange:e=>{(0,f.handleFileUpload)(e,"education_certificates","kyc",E,n,!0)},ref:e=>p.current.educationCertificates=e}),(0,C.jsx)("br",{}),E.values.education_certificates&&E.values.education_certificates.length>0?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("br",{}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,C.jsx)("div",{children:E.values.education_certificates.map(((e,a)=>(0,C.jsxs)("div",{children:[(0,C.jsx)("a",{href:e,children:"View"}),(0,C.jsx)("br",{})]},a)))}),(0,C.jsx)(s.A,{onClick:()=>E.setFieldValue("education_certificates",[]),children:(0,C.jsx)(w.A,{})})]})]}):"",E.touched.education_certificates&&E.errors.education_certificates?(0,C.jsx)("div",{style:{color:"red"},children:E.errors.education_certificates}):null]}),(0,C.jsxs)(l.A,{size:4,children:[(0,C.jsx)(A.A,{name:"Experience Certificate / Relieving Letter",onChange:e=>{(0,f.handleFileUpload)(e,"experience_certificate","kyc",E,n,!1)},ref:e=>p.current.experienceCertificate=e}),(0,C.jsx)("br",{}),E.values.experience_certificate&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("br",{}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,C.jsx)("a",{href:E.values.experience_certificate,children:"View"}),(0,C.jsx)(s.A,{onClick:()=>E.setFieldValue("experience_certificate",""),children:(0,C.jsx)(w.A,{})})]})]}),E.touched.experience_certificate&&E.errors.experience_certificate?(0,C.jsx)("div",{style:{color:"red"},children:E.errors.experience_certificate}):null]}),(0,C.jsxs)(l.A,{size:4,children:[(0,C.jsx)(A.A,{name:"Electricity Bill / Rent Agreement",onChange:e=>{(0,f.handleFileUpload)(e,"electricity_bill","kyc",E,n,!1)},ref:e=>p.current.electricityBill=e}),(0,C.jsx)("br",{}),E.values.electricity_bill&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("br",{}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,C.jsx)("a",{href:E.values.electricity_bill,children:"View"}),(0,C.jsx)(s.A,{onClick:()=>E.setFieldValue("electricity_bill",""),children:(0,C.jsx)(w.A,{})})]})]}),E.touched.electricity_bill&&E.errors.electricity_bill?(0,C.jsx)("div",{style:{color:"red"},children:E.errors.electricity_bill}):null]})]}),(0,C.jsxs)(l.A,{container:!0,spacing:1,children:[(0,C.jsxs)(l.A,{size:4,children:[(0,C.jsx)(A.A,{name:"PCC",onChange:e=>{(0,f.handleFileUpload)(e,"pcc","pcc",E,n,!1)},ref:e=>p.current.pcc=e}),(0,C.jsx)("br",{}),E.values.pcc&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("br",{}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,C.jsx)("a",{href:E.values.pcc,children:"View"}),(0,C.jsx)(s.A,{onClick:()=>E.setFieldValue("pcc",""),children:(0,C.jsx)(w.A,{})})]})]}),E.touched.pcc&&E.errors.pcc?(0,C.jsx)("div",{style:{color:"red"},children:E.errors.pcc}):null]}),(0,C.jsx)(l.A,{size:4,children:(0,C.jsx)(c.A,{row:!0,children:(0,C.jsx)(d.A,{control:(0,C.jsx)(u.A,{name:"Mediclaim",onChange:e=>E.setFieldValue("dra",e.target.checked)}),label:"DRA"})})}),(0,C.jsx)(l.A,{size:4,children:E.values.dra&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(A.A,{name:"DRA Certificate",onChange:e=>{(0,f.handleFileUpload)(e,"dra_certificate","kyc",E,n,!1)},ref:e=>p.current.draCertificate=e}),(0,C.jsx)("br",{}),E.values.dra_certificate&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("br",{}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,C.jsx)("a",{href:E.values.dra_certificate,children:"View"}),(0,C.jsx)(s.A,{onClick:()=>E.setFieldValue("dra_certificate",""),children:(0,C.jsx)(w.A,{})})]})]}),E.errors.dra_certificate?(0,C.jsxs)("div",{style:{color:"red"},children:[(0,C.jsx)("br",{}),E.errors.dra_certificate]}):null]})})]}),(0,C.jsx)("br",{}),(0,C.jsx)(_.A,{id:"pf_no",name:"pf_no",label:"PF Number",formik:E}),(0,C.jsx)(_.A,{id:"esic_no",name:"esic_no",label:"ESIC Number",formik:E}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("h5",{children:"Insurance Details"}),(0,C.jsxs)(c.A,{row:!0,children:[(0,C.jsx)(d.A,{control:(0,C.jsx)(u.A,{name:"Mediclaim",onChange:e=>v(e,E)}),label:"Mediclaim"}),(0,C.jsx)(d.A,{control:(0,C.jsx)(u.A,{name:"Personal Accident",onChange:e=>v(e,E)}),label:"Personal Accident"}),(0,C.jsx)(d.A,{control:(0,C.jsx)(u.A,{name:"Not Available",onChange:e=>v(e,E)}),label:"Not Available"})]}),E.touched.insurance_status&&E.errors.insurance_status?(0,C.jsx)("div",{style:{color:"red"},children:E.errors.insurance_status}):null,(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("h5",{children:"Bank Details"}),(0,C.jsx)(_.A,{id:"bank_account_no",name:"bank_account_no",label:"Bank Account Number",formik:E}),(0,C.jsx)(_.A,{id:"bank_name",name:"bank_name",label:"Bank Name",formik:E}),(0,C.jsx)(_.A,{id:"ifsc_code",name:"ifsc_code",label:"IFSC",formik:E}),(0,C.jsx)(g.A,{name:"Submit",isSubmitting:E.isSubmitting}),(0,C.jsx)(m.A,{open:a,message:"File uploaded successfully!",sx:{left:"auto !important",right:"24px !important"}})]})}const D=t.memo(E)},2418:(e,a,n)=>{n.r(a),n.d(a,{default:()=>p});var t=n(9950),i=n(1413),s=n(8394),r=n(249),l=n(2610),o=n(4745),c=n(3563),d=n(4414);function u(e){let{title:a,children:n}=e;return(0,d.jsxs)("div",{children:[(0,d.jsx)("h5",{children:a}),(0,d.jsx)("div",{style:{display:"flex",alignItems:"center"},children:n})]})}function m(e){let{data:a}=e;return(0,d.jsx)(r.A,{sx:{width:"100%"},children:a.map(((e,n)=>(0,d.jsxs)(t.Fragment,{children:[(0,d.jsxs)(l.Ay,{alignItems:"flex-start",children:[(0,d.jsx)(c.A,{primary:e.label}),e.link?(0,d.jsx)("a",{href:e.link,children:(0,d.jsx)(c.A,{sx:{color:"blue !important"},secondary:e.value})}):(0,d.jsx)(c.A,{secondary:e.value})]}),n<a.length-1&&(0,d.jsx)(o.A,{variant:"inset",component:"li"})]},n)))})}function h(e){let{user:a}=e;const n=[{label:"Communication Address",value:[a.communication_address_line_1,a.communication_address_line_2,a.communication_address_city,a.communication_address_area,a.communication_address_state,a.communication_address_pincode].filter(Boolean).join(", ")},{label:"Permanent Address",value:[a.permanent_address_line_1,a.permanent_address_line_2,a.permanent_address_city,a.permanent_address_area,a.permanent_address_state,a.permanent_address_pincode].filter(Boolean).join(", ")}];return(0,d.jsxs)(s.A,{container:!0,className:"profile-container",children:[(0,d.jsx)(s.A,{size:{xs:12,md:6},children:(0,d.jsxs)(u,{title:"Profile Info",children:[(0,d.jsx)(i.A,{src:a.employee_photo,style:{width:80,height:80}}),(0,d.jsx)(m,{data:[{label:"Username",value:a.username},{label:"Name",value:a.fullName},{label:"Birth Date",value:a.dob},{label:"Blood Group",value:a.blood_group}]})]})}),(0,d.jsx)(s.A,{size:{xs:12,md:6},children:(0,d.jsx)(u,{title:"Contact Info",children:(0,d.jsx)(m,{data:[{label:"Email",value:a.email},{label:"Official Email",value:a.official_email},{label:"Mobile",value:a.mobile}]})})}),(0,d.jsx)(o.A,{variant:"fullWidth",sx:{opacity:1}}),(0,d.jsx)("br",{}),(0,d.jsx)(s.A,{size:{xs:12,md:6},children:(0,d.jsx)(u,{title:"Address Info",children:(0,d.jsx)(m,{data:n})})}),(0,d.jsx)(s.A,{size:{xs:12,md:6},children:(0,d.jsx)(u,{title:"Bank Info",children:(0,d.jsx)(m,{data:[{label:"Bank Account Number",value:a.bank_account_no},{label:"Bank Name",value:a.bank_name},{label:"IFSC",value:a.ifsc_code}]})})}),(0,d.jsx)(o.A,{variant:"fullWidth",sx:{opacity:1}}),(0,d.jsx)("br",{}),(0,d.jsx)(s.A,{size:{xs:12,md:6},children:(0,d.jsx)(u,{title:"Employment Info",children:(0,d.jsx)(m,{data:[{label:"Designation",value:a.designation},{label:"Department",value:a.department},{label:"Joining Date",value:a.joining_date}]})})}),(0,d.jsx)(s.A,{size:{xs:12,md:6},children:(0,d.jsx)(u,{title:"Documents",children:(0,d.jsx)(m,{data:[{label:"AADHAR Number",value:a.aadhar_no,link:a.aadhar_photo_front},{label:"PAN Number",value:a.pan_no,link:a.pan_photo},{label:"PF Number",value:a.pf_no},{label:"ESIC Number",value:a.esic_no}]})})})]})}const p=t.memo(h)},3945:(e,a,n)=>{n.d(a,{u:()=>t});const t=(0,n(9950).createContext)()},8992:(e,a,n)=>{n.d(a,{A:()=>i});var t=n(9950);const i=function(e){const a=(0,t.useRef)(null);return n=>{if(!window.SpeechRecognition&&!window.webkitSpeechRecognition)return void alert("Speech recognition is not supported in this browser.");const t=new(window.SpeechRecognition||window.webkitSpeechRecognition);a.current=t,t.lang="en-US",t.interimResults=!1,t.continuous=!1,t.onresult=a=>{const t=a.results[0][0].transcript;e.setFieldValue(n,t)},t.onerror=e=>{console.error("Speech recognition error:",e),"network"===e.error&&alert("Speech recognition is not working due to network restrictions. Please check browser settings or permissions.")},t.start()}}},936:(e,a,n)=>{n.d(a,{A:()=>l});n(9950);var t=n(2917),i=n(4414);const s=e=>Array(3).fill(e.reduce(((e,a)=>{const n=a.size||"100%";return e[a.accessorKey]=(0,i.jsx)(t.A,{width:n}),e}),{}));var r=n(4857);const l=function(e,a,n){const t="dark"===(0,r.A)().palette.mode?"#1C262B":"rgb(253, 253, 253);";return{columns:a,data:n?s(a):e,enableColumnResizing:!0,enableColumnOrdering:!0,enablePagination:!1,enableTopToolbar:!0,enableBottomToolbar:!1,enableDensityToggle:!1,initialState:{density:"compact"},enableGrouping:!0,enableColumnFilters:!1,enableColumnActions:!1,enableStickyHeader:!0,muiTableContainerProps:{sx:{maxHeight:"590px",overflowY:"auto"}},muiTableHeadCellProps:{sx:{position:"sticky",top:0,zIndex:1}},muiTableBodyProps:{sx:{"& tr:not([data-selected='true']):not([data-pinned='true']) > td":{backgroundColor:t}}},mrtTheme:()=>({baseBackgroundColor:t}),renderEmptyRowsFallback:()=>(0,i.jsx)("div",{className:"flex-div",children:(0,i.jsx)("p",{style:{width:"100%",textAlign:"center"},children:"No records"})})}}},1286:(e,a,n)=>{n.d(a,{A:()=>s});var t=n(9950),i=n(3785);const s=function(){const[e,a]=(0,t.useState)([]);return(0,t.useEffect)((()=>{!async function(){try{const e=await(0,i.A)("/get-all-users");a(e.data.map((e=>e.username)))}catch(e){console.error("Error fetching user list:",e)}}()}),[]),e}},3987:(e,a,n)=>{n.d(a,{A:()=>Wa});var t=n(9950),i=n(2436),s=n(8429),r=n(8367),l=n(4142),o=n(32),c=n(4414);const d=function(){return{a11yProps:function(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}},CustomTabPanel:function(e){const{children:a,value:n,index:t,...i}=e;return(0,c.jsx)("div",{role:"tabpanel",hidden:n!==t,id:`simple-tabpanel-${t}`,"aria-labelledby":`simple-tab-${t}`,...i,children:n===t&&(0,c.jsx)(o.A,{sx:{p:3},children:a})})}}};var u=n(8394),m=n(3945);function h(){var e;const{user:a}=(0,t.useContext)(i.R),{tabValue:n,setTabValue:h}=(0,t.useContext)(m.u),p=(0,s.Zp)(),{a11yProps:x,CustomTabPanel:j}=d(),b=Wa(a),g=null===a||void 0===a||null===(e=a.modules)||void 0===e?void 0:e.reduce(((e,a)=>{const n=b.find((e=>e.allowedModules.includes(a))),t=n?n.category:"Uncategorized";return e[t]||(e[t]=[]),e[t].push({name:a,path:null===n||void 0===n?void 0:n.path}),e}),{});return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(o.A,{sx:{width:"100%"},children:[(0,c.jsx)(o.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,c.jsx)(r.A,{value:n,onChange:(e,a)=>{h(a)},"aria-label":"Module Categories",children:g&&Object.keys(g).sort().map(((e,a)=>(0,c.jsx)(l.A,{label:e,...x(a)},a)))})}),g&&Object.keys(g).sort().map(((e,a)=>(0,c.jsx)(j,{value:n,index:a,children:(0,c.jsx)(u.A,{container:!0,spacing:2,columnSpacing:3,children:g[e].sort(((e,a)=>e.name.localeCompare(a.name))).map(((e,a)=>{let{name:n,path:t}=e;return(0,c.jsx)(u.A,{size:{xs:12,sm:4,md:2},className:"module-col",children:(0,c.jsx)("div",{className:"module-col-inner",onClick:()=>t&&p(t),children:(0,c.jsx)("p",{children:n})})},a)}))})},a)))]})})}const p=t.memo(h);var x=n(8145),j=n(7922),b=n(1286);const g=t.lazy((()=>n.e(4424).then(n.bind(n,4424))));function A(){const e=(0,b.A)(),[a,n]=(0,t.useState)("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{marginTop:"20px"},children:(0,c.jsx)(j.A,{value:a,onChange:(e,a)=>{n(a)},options:e,getOptionLabel:e=>e,sx:{width:200,marginBottom:"20px"},renderInput:e=>(0,c.jsx)(x.A,{...e,size:"small",label:"Select User"})})}),(0,c.jsx)(t.Suspense,{fallback:(0,c.jsx)("div",{children:"Loading..."}),children:(0,c.jsx)(g,{selectedUser:a})})]})}const f=t.memo(A);var y=n(3785);var v=n(9845);const _=t.lazy((()=>Promise.resolve().then(n.bind(n,2418)))),w=t.lazy((()=>n.e(9684).then(n.bind(n,9684)))),k=t.lazy((()=>n.e(2179).then(n.bind(n,2179)))),S=t.lazy((()=>n.e(6244).then(n.bind(n,6244)))),C=t.lazy((()=>n.e(1893).then(n.bind(n,1893)))),E=t.lazy((()=>n.e(520).then(n.bind(n,520))));function D(){const[e,a]=t.useState(0),[u,m]=t.useState([]),{setUser:h,user:p}=t.useContext(i.R),[x,j]=t.useState(!1),{setAlert:b}=t.useContext(v.C),g=(0,s.Zp)(),{a11yProps:A,CustomTabPanel:f}=d();return t.useEffect((()=>{const e=Number(localStorage.getItem("profile_tab_value"))||0;a(e)}),[]),t.useEffect((()=>{(async(e,a)=>{a(!0);try{e((await y.A.get("/get-session-data")).data||[])}catch(n){console.error("Error fetching geolocation",n),e([])}finally{a(!1)}})(m,j)}),[]),(0,c.jsxs)(o.A,{sx:{width:"100%"},children:[(0,c.jsx)(o.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,c.jsxs)(r.A,{value:e,onChange:(e,n)=>{a(n),localStorage.setItem("profile_tab_value",n)},"aria-label":"profile tabs",children:[(0,t.createElement)(l.A,{label:"Basic Info",...A(0),key:0}),(0,t.createElement)(l.A,{label:"Logged in Devices",...A(1),key:1}),(0,t.createElement)(l.A,{label:"2FA and Notifications",...A(2),key:2}),(0,t.createElement)(l.A,{label:"Reset Password",...A(3),key:3}),(0,t.createElement)(l.A,{label:"Backup Codes",...A(4),key:4})]})}),(0,c.jsxs)(o.A,{children:[(0,c.jsx)(f,{value:e,index:0,children:(0,c.jsx)(t.Suspense,{fallback:"Loading...",children:(0,c.jsx)(_,{user:p})})}),(0,c.jsxs)(f,{value:e,index:1,children:[(0,c.jsx)(t.Suspense,{fallback:"Loading...",children:(0,c.jsx)(w,{geolocation:u,setGeolocation:m,loading:x})}),(0,c.jsx)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end"},children:(0,c.jsx)("button",{className:"btn",style:{marginTop:"20px"},onClick:async()=>{const{logOutFromAllSessions:e}=await n.e(4922).then(n.bind(n,4922));e(h,g,b)},children:"Log out from all devices"})})]}),(0,c.jsx)(f,{value:e,index:2,children:(0,c.jsx)("div",{className:"profile-container",children:(0,c.jsxs)(t.Suspense,{fallback:"Loading...",children:[(0,c.jsx)(C,{}),(0,c.jsx)(E,{})]})})}),(0,c.jsx)(f,{value:e,index:3,children:(0,c.jsx)(t.Suspense,{fallback:"Loading...",children:(0,c.jsx)(k,{})})}),(0,c.jsx)(f,{value:e,index:4,children:(0,c.jsx)(t.Suspense,{fallback:"Loading...",children:(0,c.jsx)(S,{})})})]})]})}const N=t.memo(D);var I=n(249),F=n(2610),R=n(4745),T=n(3563);function z(){const[e,a]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=navigator.userAgent.toLowerCase();a(e.includes("mac"))}),[]);const n=[{title:"Toggle Fullscreen",keys:[e?"Cmd":"Ctrl","Shift","F"]},{title:"Show/Hide Sidebar",keys:[e?"Cmd":"Ctrl","Shift","S"]},{title:"Route Query",keys:["Shift","Space"]},{title:"Navigate Between Pages",keys:[e?"Cmd":"Ctrl","Shift","\u2190 \u2192"]},{title:"Logout",keys:[e?"Cmd":"Ctrl","Shift","L"]}];return(0,c.jsx)(u.A,{container:!0,children:(0,c.jsx)(u.A,{size:12,children:(0,c.jsxs)("div",{children:[(0,c.jsx)("br",{}),(0,c.jsx)("h5",{children:"Keyboard Shortcuts"}),(0,c.jsx)("br",{}),(0,c.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,c.jsx)(I.A,{sx:{width:"100%",bgcolor:"background.paper"},children:n.map(((e,a)=>{return(0,c.jsxs)(t.Fragment,{children:[(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:e.title}),(0,c.jsx)(T.A,{secondary:(0,c.jsx)("span",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(i=e.keys,i.map(((e,a)=>(0,c.jsx)("span",{className:"key",children:e},a))))})})]}),a<n.length-1&&(0,c.jsx)(R.A,{variant:"inset",component:"li"})]},a);var i}))})})]})})})}const q=t.memo(z);n(5546);const P=t.lazy((()=>n.e(3129).then(n.bind(n,3129)))),M=t.lazy((()=>n.e(1334).then(n.bind(n,1334)))),L=t.lazy((()=>n.e(7554).then(n.bind(n,7554)))),B=t.lazy((()=>n.e(8994).then(n.bind(n,8994)))),K=t.lazy((()=>n.e(5957).then(n.bind(n,5957)))),V=t.lazy((()=>n.e(8165).then(n.bind(n,8165)))),U=e=>{let{children:a}=e;return(0,c.jsx)(t.Suspense,{fallback:(0,c.jsx)("div",{children:"Loading..."}),children:a})};function Y(){const{user:e}=t.useContext(i.R);return(0,c.jsx)(o.A,{sx:{flexGrow:1,paddingTop:0},className:"dashboard",children:(0,c.jsxs)(u.A,{container:!0,spacing:1,children:[(0,c.jsxs)(u.A,{size:{xs:12,sm:12,md:12,lg:8},children:[(0,c.jsxs)(u.A,{container:!0,spacing:1,children:[(0,c.jsx)(u.A,{size:{xs:12,md:5},children:(0,c.jsx)(U,{children:(0,c.jsx)(P,{user:e})})}),(0,c.jsx)(u.A,{size:{xs:12,md:7},children:(0,c.jsx)(U,{children:(0,c.jsx)(M,{})})})]}),(0,c.jsx)(u.A,{container:!0,spacing:1,children:(0,c.jsx)(u.A,{size:12,children:(0,c.jsx)(U,{children:(0,c.jsx)(L,{})})})}),(0,c.jsx)(u.A,{container:!0,spacing:1,children:(0,c.jsx)(u.A,{size:12,children:(0,c.jsx)(U,{children:(0,c.jsx)(B,{})})})})]}),(0,c.jsx)(u.A,{size:{xs:12,sm:12,md:12,lg:4},children:(0,c.jsxs)(u.A,{container:!0,spacing:1,children:[(0,c.jsx)(u.A,{size:12,children:(0,c.jsx)(U,{children:(0,c.jsx)(K,{})})}),(0,c.jsx)(u.A,{size:12,children:(0,c.jsx)(U,{children:(0,c.jsx)(V,{})})})]})})]})})}const H=t.memo(Y);n(9800);var $=n(8476),O=n(4477),J=n(3256),W=n(5333),G=n(4367),Z=n(1637),X=n(5413),Q=n(8727),ee=n(5112);const ae=t.lazy((()=>n.e(9543).then(n.bind(n,9543)))),ne=t.lazy((()=>n.e(1175).then(n.bind(n,1175)))),te=()=>{const[e,a]=(0,t.useState)([]),i=new Date,[s,r]=(0,t.useState)(i.getMonth()),[l,o]=(0,t.useState)(i.getFullYear()),[d,m]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[x,j]=(0,t.useState)(null),[b,g]=(0,t.useState)(null),{theme:A}=(0,t.useContext)(ee.D),[f,v]=(0,t.useState)(!1);async function _(){try{const e=await(0,y.A)("/get-calendar-events"),a=new Date,n=new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())).toISOString().split("T")[0],t=e.data.filter((e=>e.date>=n));m(e.data),p(t)}catch(e){console.error(e)}}(0,t.useEffect)((()=>{(0,Q.J)(l,s,i,a)}),[s,l]),(0,t.useEffect)((()=>{_()}),[]);const w=Boolean(x);return(0,c.jsxs)(u.A,{container:!0,spacing:2,style:{marginTop:"20px"},children:[(0,c.jsx)(u.A,{size:{md:3,xs:12},children:(0,c.jsxs)("div",{className:"upcoming-events",children:[(0,c.jsx)("h5",{children:"Upcoming Events"}),h.length>0?h.map(((e,a)=>(0,c.jsxs)("div",{className:"upcoming-event",children:[(0,c.jsx)("p",{children:e.title}),(0,c.jsxs)("span",{children:[(0,c.jsx)(G.A,{style:{color:"#6C5DFC",fontSize:"18px",marginRight:"5px"}}),e.date]})]},a))):(0,c.jsx)("div",{className:"upcoming-event",children:(0,c.jsx)("p",{children:"No upcoming events"})})]})}),(0,c.jsx)(u.A,{size:{md:9,xs:12},children:(0,c.jsxs)("div",{className:"calendar-container",children:[(0,c.jsxs)("header",{className:"calendar-header",children:[(0,c.jsx)("p",{className:"calendar-current-date",children:`${Z.U[s]} ${l}`}),(0,c.jsxs)("div",{className:"calendar-navigation",children:[(0,c.jsx)(W.A,{"aria-label":"previous month",onClick:async()=>{const{handleCalendarNavigation:e}=await n.e(8925).then(n.bind(n,8925));e(-1,s,l,r,o)},children:(0,c.jsx)(O.A,{})}),(0,c.jsx)(W.A,{"aria-label":"next month",onClick:async()=>{const{handleCalendarNavigation:e}=await n.e(8925).then(n.bind(n,8925));e(1,s,l,r,o)},children:(0,c.jsx)($.A,{})}),(0,c.jsx)(W.A,{onClick:()=>v(!0),children:(0,c.jsx)(J.A,{})})]})]}),(0,c.jsxs)("div",{className:"calendar-body",children:[(0,c.jsx)("ul",{className:"calendar-weekdays",children:X.m.map(((e,a)=>(0,c.jsx)("li",{children:e},a)))}),(0,c.jsx)("ul",{className:"calendar-dates",children:e.map(((e,a)=>{const n=(e=>{if(e.isCurrentMonth){const a=`${l}-${(s+1).toString().padStart(2,"0")}-${e.day.toString().padStart(2,"0")}`;return d.filter((e=>e.date===a))}return[]})(e);return(0,c.jsxs)("li",{style:{border:"light"===A?"1px solid #E5E7EB":"1px solid #141d23",margin:0,padding:"25px 5px"},children:[(0,c.jsx)("span",{className:`calendar-day ${e.isCurrentMonth?"":"inactive"} ${e.isToday?"active":""}`,children:e.day}),n.length>0&&(0,c.jsx)("div",{className:"event-indicator",children:n.map(((e,a)=>(0,c.jsx)("div",{className:"event-item",onClick:a=>((e,a)=>{g(e),j(a)})(e,a.currentTarget),children:e.title},a)))})]},a)}))})]})]})}),(0,c.jsx)(t.Suspense,{fallback:(0,c.jsx)("div",{children:"Loading..."}),children:(0,c.jsx)(ae,{open:f,handleClose:()=>v(!1),getEvents:_})}),(0,c.jsx)(t.Suspense,{fallback:(0,c.jsx)("div",{children:"Loading..."}),children:(0,c.jsx)(ne,{openPopover:w,popoverAnchorEl:x,handlePopoverClose:()=>{j(null),g(null)},selectedEvent:b,events:d,setEvents:m,getEvents:_})})]})};function ie(e){let{tabData:a,tabKey:n}=e;const[i,s]=t.useState(Number(localStorage.getItem(n))||0),{a11yProps:u,CustomTabPanel:m}=d();return(0,c.jsxs)(o.A,{sx:{width:"100%"},children:[(0,c.jsx)(o.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,c.jsx)(r.A,{value:i,onChange:(e,a)=>{s(a),localStorage.setItem(n,a)},"aria-label":"basic tabs example",children:a.map(((e,a)=>(0,c.jsx)(l.A,{label:e.label,...u(a)},a)))})}),(0,c.jsx)(o.A,{children:a.map(((e,a)=>(0,c.jsx)(m,{value:i,index:a,children:(0,c.jsx)(t.Suspense,{fallback:(0,c.jsx)("div",{children:"Loading..."}),children:t.createElement(e.component)})},a)))})]})}const se=t.memo(ie),re=(0,t.lazy)((()=>Promise.all([n.e(9452),n.e(7851)]).then(n.bind(n,7851)))),le=(0,t.lazy)((()=>n.e(2103).then(n.bind(n,2103))));function oe(){const e=[{label:"Employee Demographics",component:re},{label:"Employee Performance",component:le}];return(0,c.jsx)(se,{tabData:e,tabKey:"analytics_tab_value"})}const ce=t.memo(oe),de=t.lazy((()=>Promise.resolve().then(n.bind(n,7333)))),ue=t.lazy((()=>n.e(9842).then(n.bind(n,9842))));function me(){const e=[{label:"View Employee KYCs",component:ue},{label:"Complete KYC",component:de}];return(0,c.jsx)(se,{tabData:e,tabKey:"kyc_tab_value"})}const he=t.memo(me);var pe=n(2418);function xe(){const{username:e}=(0,s.g)(),[a,n]=(0,t.useState)(),i=(0,s.Zp)(),{setAlert:r}=(0,t.useContext)(v.C);(0,t.useEffect)((()=>{!async function(){try{const a=await(0,y.A)(`/get-user-data/${e}`);n(a.data)}catch(a){console.error("Error occurred while fetching user data:",a)}}()}),[e]);const l=async a=>{const n=!0===a?"Approved":"Rejected";try{const a=await y.A.post("/kyc-approval",{username:e,kyc_approval:n});r({open:!0,message:a.data.message,severity:"success"})}catch(t){r({open:!0,message:"Network Error"===t.message?"Network Error, your details will be submitted when you are back online":t.response.data.message,severity:"error"})}};return(0,c.jsx)(c.Fragment,{children:a&&(0,c.jsxs)("div",{style:{padding:20},children:[(0,c.jsx)(pe.default,{user:a}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{className:"btn",onClick:()=>l(!0),children:"Approve"}),(0,c.jsx)("button",{className:"btn",style:{marginLeft:"10px"},onClick:()=>l(!1),children:"Reject"}),(0,c.jsx)("button",{className:"btn",style:{marginLeft:"10px"},onClick:()=>i(`/edit-kyc/${a.username}`),children:"Edit"})]})})}const je=t.memo(xe);var be=n(7333);function ge(){const{username:e}=(0,s.g)();return(0,c.jsx)(be.default,{username:e})}const Ae=t.memo(ge);var fe=n(3939),ye=n(9714);const ve=ye.Ik({jobTitle:ye.Yj().required("Job title is required"),numberOfVacancies:ye.ai().typeError("Number of vacancies must be a number").required("Number of vacancies is required"),jobPostingDate:ye.p6().required("Job posting date is required"),applicationDeadline:ye.p6().min(ye.KR("jobPostingDate"),"Deadline cannot be before posting date").required("Application deadline is required"),jobDescription:ye.Yj().required("Job description is required"),requiredSkills:ye.Yj().required("Required skills are required"),experience:ye.ai().typeError("Experience must be a number").required("Experience is required"),location:ye.Yj().required("Location is required"),budget:ye.YO().of(ye.ai().min(2).max(10)).required("Budget range is required"),hiringManager:ye.Yj().required("Hiring manager is required")});var _e=n(3557),we=n(6888),ke=n(5884);function Se(e){return`${e} LPA`}const Ce=[{value:2,label:"2 LPA"},{value:10,label:"10 LPA"}];function Ee(){const{setAlert:e}=(0,t.useContext)(v.C),a=(0,fe.Wx)({initialValues:{jobTitle:"",numberOfVacancies:"",jobPostingDate:(new Date).toISOString().split("T")[0],applicationDeadline:"",jobDescription:"",requiredSkills:"",experience:"",location:"",budget:[2,10],hiringManager:""},validationSchema:ve,onSubmit:async a=>{try{const n=await y.A.post("/add-job-opening",a);e({open:!0,message:n.data.message,severity:"success"})}catch(n){e({open:!0,message:"Network Error"===n.message?"Network Error, your details will be submitted when you are back online":n.response.data.message,severity:"error"})}}});return(0,c.jsxs)("form",{onSubmit:a.handleSubmit,children:[(0,c.jsx)(we.A,{id:"jobTitle",name:"jobTitle",label:"Job Title",formik:a,select:!0,options:[{value:"CENTER HEAD",label:"CENTER HEAD"},{value:"HOD",label:"HOD"},{value:"BACK OFFICE MANAGER ",label:"BACK OFFICE MANAGER "},{value:"OPERATION MANAGER",label:"OPERATION MANAGER"},{value:"MANAGER",label:"MANAGER"},{value:"ASSISTANT MANAGER",label:"ASSISTANT MANAGER"},{value:"HR MANAGER",label:"HR MANAGER"},{value:"HR ADMIN",label:"HR ADMIN"},{value:"HR-BACK OFFICE EXECUTIVE",label:"HR-BACK OFFICE EXECUTIVE"},{value:"HR-BACK OFFICE EXECUTIVE",label:"HR-BACK OFFICE EXECUTIVE"},{value:"HR EXECUTIVE",label:"HR EXECUTIVE"},{value:"HR & BACKEND",label:"HR & BACKEND"},{value:"FIELD EXECUTIVE",label:"FIELD EXECUTIVE"},{value:"TEAM LEADER",label:"TEAM LEADER"},{value:"ASSISTANT TEAM LEADER",label:"ASSISTANT TEAM LEADER"},{value:"MIS EXECUTIVE",label:"MIS EXECUTIVE"},{value:"Q.A.",label:"Q.A."},{value:"TRAINER",label:"TRAINER"},{value:"TELECALLER",label:"TELECALLER"},{value:"HOUSEKEEPING",label:"HOUSEKEEPING"},{value:"GUARD",label:"GUARD"}]}),(0,c.jsx)(we.A,{id:"numberOfVacancies",name:"numberOfVacancies",label:"Number of Vacancies",formik:a,useSpeech:!0}),(0,c.jsx)(we.A,{id:"jobPostingDate",name:"jobPostingDate",label:"Job Posting Date",formik:a,type:"date"}),(0,c.jsx)(we.A,{id:"applicationDeadline",name:"applicationDeadline",label:"Application Deadline",formik:a,type:"date"}),(0,c.jsx)(we.A,{id:"jobDescription",name:"jobDescription",label:"Job Description",formik:a,useSpeech:!0}),(0,c.jsx)(we.A,{id:"requiredSkills",name:"requiredSkills",label:"Required Skills",formik:a,useSpeech:!0}),(0,c.jsx)(we.A,{id:"experience",name:"experience",label:"Experience (in years)",formik:a,useSpeech:!0}),(0,c.jsx)(we.A,{id:"location",name:"location",label:"Location",formik:a,useSpeech:!0}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)("span",{children:"Budget"}),(0,c.jsx)(ke.Ay,{getAriaLabel:()=>"Salary range",value:a.values.budget,onChange:(e,n)=>{a.setFieldValue("budget",n)},valueLabelDisplay:"auto",getAriaValueText:Se,marks:Ce,min:2,max:10,step:.1})]}),(0,c.jsx)("br",{}),(0,c.jsx)(we.A,{id:"hiringManager",name:"hiringManager",label:"Hiring Manager",formik:a,useSpeech:!0}),(0,c.jsx)(_e.A,{name:"Submit",isSubmitting:a.isSubmitting})]})}const De=t.memo(Ee);var Ne=n(7946),Ie=n(2917),Fe=n(936),Re=n(7443);function Te(){const[e,a]=t.useState([]),[n,i]=t.useState(!1),r=(0,s.Zp)();t.useEffect((()=>{!async function(){i(!0);try{const e=await(0,y.A)("/view-job-openings");a(e.data)}catch(e){console.error("Error occurred while fetching job openings:",e)}finally{i(!1)}}()}),[]);const l=[{accessorKey:"jobTitle",header:"Job Title"},{accessorKey:"jobPostingDate",header:"Job Posting Date",Cell:e=>{let{cell:a}=e;return(0,c.jsx)(c.Fragment,{children:"Invalid Date"===new Date(a.row.original.jobPostingDate).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})?(0,c.jsx)(Ie.A,{width:"50%"}):new Date(a.row.original.jobPostingDate).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})})}},{accessorKey:"applicationDeadline",header:"Application Deadline",Cell:e=>{let{cell:a}=e;return(0,c.jsx)(c.Fragment,{children:"Invalid Date"===new Date(a.row.original.applicationDeadline).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})?(0,c.jsx)(Ie.A,{width:"50%"}):new Date(a.row.original.applicationDeadline).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})})}},{accessorKey:"numberOfVacancies",header:"Number of Vacancies"},{accessorKey:"candidatesHired",header:"Candidates Hired"},{accessorKey:"location",header:"Location"},{accessorKey:"budget",header:"Budget",Cell:e=>{let{cell:a}=e;return(0,c.jsxs)(c.Fragment,{children:[a.row.original.budget[0]?`${a.row.original.budget[0]} LPA`:(0,c.jsx)(Ie.A,{width:"50%"})," ","-",a.row.original.budget[1]?`${a.row.original.budget[1]} LPA`:(0,c.jsx)(Ie.A,{width:"50%"})]})}}],o=(0,Re.Y)(l),d=(0,Fe.A)(e,o,n),u={muiTableBodyRowProps:e=>{let{row:a}=e;return{onClick:()=>r(`/view-job-opening/${a.original._id}`),style:{cursor:"pointer"}}}},m=(0,Ne.Up)({...d,...u});return(0,c.jsx)("div",{children:(0,c.jsx)(Ne.zp,{table:m})})}const ze=t.memo(Te);function qe(){const e=[{label:"New Job Opening",component:De},{label:"View Job Openings",component:ze}];return(0,c.jsx)(se,{tabData:e,tabKey:"job_openings_tab_value"})}const Pe=t.memo(qe);var Me=n(9120),Le=n(5359),Be=n(1831),Ke=n(1377),Ve=n(4159),Ue=n.n(Ve),Ye=n(7813);function He(e){const[a,n]=(0,t.useState)(null),{setAlert:i}=(0,t.useContext)(v.C),s=e=>e.set("hour",9).set("minute",0).set("second",0),r=e=>e.set("hour",19).set("minute",0).set("second",0);return(0,c.jsx)("div",{children:(0,c.jsx)(Me.A,{open:e.open,onClose:e.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,c.jsxs)(o.A,{sx:Ye.i,children:[(0,c.jsx)("h5",{children:"Select date and time for interview"}),(0,c.jsx)("br",{}),(0,c.jsx)(Be.$,{dateAdapter:Le.R,sx:{width:"100%"},children:(0,c.jsx)(Ke.K,{label:"Select interview date and time",value:a,onChange:e=>n(e),disablePast:!0,closeOnSelect:!1,ampm:!1,minutesStep:15,shouldDisableDate:e=>0===e.day(),minTime:s(a||Ue()()),maxTime:r(a||Ue()())})}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{className:"btn",onClick:async()=>{if(!a)return void i({open:"true",message:"Please select date and time",severity:"warning"});const n=a.toDate(),t=new Date(n.getTime()+36e5),s=e=>`${e.getFullYear()}${("0"+(e.getMonth()+1)).slice(-2)}${("0"+e.getDate()).slice(-2)}T${("0"+e.getHours()).slice(-2)}${("0"+e.getMinutes()).slice(-2)}00`,r=s(n),l=s(t);try{const a=await y.A.put("/schedule-interview",{jobTitle:e.jobTitle,email:e.email,name:e.name,interviewDateTime:n,interviewStartTime:r,interviewEndTime:l});e.handleClose(),i({open:!0,message:a.data.message,severity:"success"})}catch(o){i({open:!0,message:"Network Error"===o.message?"Network Error, your details will be submitted when you are back online":o.response.data.message,severity:"error"})}},children:"Submit"})]})})})}const $e=t.memo(He),Oe=ye.Ik({salary:ye.ai().typeError("Salary must be a number").integer("Salary must be an integer").required("Salary is required"),joining_date:ye.p6().required("Joining date is required"),reference_by:ye.Yj()});function Je(e){const{setAlert:a}=(0,t.useContext)(v.C),n=(0,fe.Wx)({initialValues:{salary:"",joining_date:"",reference_by:""},validationSchema:Oe,onSubmit:async n=>{const t={...n,aadharNo:e.aadharNo,jobTitle:e.jobTitle,email:e.email};try{const n=await y.A.put("/hire-candidate",t);a({open:!0,message:n.data.message,severity:"success"}),e.getJobApplications()}catch(i){a({open:!0,message:"Network Error"===i.message?"Network Error, your details will be submitted when you are back online":i.response.data.message,severity:"error"})}}});return(0,c.jsx)("div",{children:(0,c.jsx)(Me.A,{open:e.open,onClose:e.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,c.jsx)(o.A,{sx:Ye.i,children:(0,c.jsxs)("form",{onSubmit:n.handleSubmit,children:[(0,c.jsx)("h3",{children:"Hire Candidate"}),(0,c.jsx)(we.A,{id:"salary",name:"salary",label:"Salary",formik:n}),(0,c.jsx)(we.A,{id:"joining_date",name:"joining_date",label:"Joining Date",type:"date",formik:n}),(0,c.jsx)(we.A,{id:"reference_by",name:"reference_by",label:"Reference By",formik:n}),(0,c.jsx)(_e.A,{name:"Submit",isSubmitting:n.isSubmitting})]})})})})}const We=t.memo(Je),Ge=ye.Ik({reason:ye.Yj().required("Reason is required")});function Ze(e){const{setAlert:a}=(0,t.useContext)(v.C),n=(0,fe.Wx)({initialValues:{reason:""},validationSchema:Ge,onSubmit:async n=>{const t={...n,aadharNo:e.aadharNo,jobTitle:e.jobTitle};try{const n=await y.A.put("/reject-application",t);a({open:!0,message:n.data.message,severity:"success"}),e.getJobApplications()}catch(i){a({open:!0,message:"Network Error"===i.message?"Network Error, your details will be submitted when you are back online":i.response.data.message,severity:"error"})}}});return(0,c.jsx)("div",{children:(0,c.jsx)(Me.A,{open:e.open,onClose:e.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,c.jsx)(o.A,{sx:Ye.i,children:(0,c.jsxs)("form",{onSubmit:n.handleSubmit,children:[(0,c.jsx)("h3",{children:"Reason for Rejecting"}),(0,c.jsx)(we.A,{id:"reason",name:"reason",label:"Reason",formik:n}),(0,c.jsx)(_e.A,{name:"Submit",isSubmitting:n.isSubmitting})]})})})})}const Xe=t.memo(Ze);function Qe(){const{_id:e}=(0,s.g)(),[a,n]=(0,t.useState)(),[i,r]=(0,t.useState)(!1),[l,o]=(0,t.useState)([]),[d,m]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[x,j]=(0,t.useState)(""),[b,g]=t.useState(!1),[A,f]=t.useState(!1),[v,_]=t.useState(!1);(0,t.useEffect)((()=>{!async function(){r(!0);try{const a=await(0,y.A)(`/view-job-opening/${e}`);n(a.data)}catch(a){console.error(a)}finally{r(!1)}}()}),[e]);const w=async()=>{try{const a=await(0,y.A)(`/view-applications/${e}`);o(a.data)}catch(a){console.error(a)}};(0,t.useEffect)((()=>{w()}),[a,e]);const k=[{accessorKey:"name",header:"Name",size:180},{accessorKey:"mobile",header:"Mobile",size:120},{accessorKey:"email",header:"Email",size:220},{accessorKey:"resume",header:"Resume",size:120,Cell:e=>{let{cell:a}=e;const n=a.row.original.resume;return(0,c.jsx)("div",{children:n&&(0,c.jsx)("span",{onClick:()=>{const e=document.createElement("a");e.href=`data:application/pdf;base64,${n}`,e.download="Resume.pdf",e.click()},className:"link",children:"Download"})})}},{accessorKey:"aadharNo",header:"Aadhar No.",size:120},{accessorKey:"interviewDate",header:"Interview Date",size:150,Cell:e=>{let{cell:a}=e;return"Invalid Date"===new Date(a.row.original.interviewDate).toLocaleString()?"":new Date(a.row.original.interviewDate).toLocaleString()}},{accessorKey:"status",header:"Status",size:100},{accessorKey:"scheduleInterviewDate",header:"Schedule Interview",size:180,Cell:e=>{let{cell:a}=e;return(0,c.jsx)("span",{className:"link",onClick:()=>((e,a)=>{p(e),m(a),g(!0)})(a.row.original.name,a.row.original.email),children:"Schedule"})}},{accessorKey:"action",header:"Action",size:100,Cell:e=>{let{cell:n}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"link",onClick:()=>((e,a)=>{j(e),m(a),f(!0)})(n.row.original.aadharNo,n.row.original.email),children:"Hire\xa0|\xa0"}),(0,c.jsx)("span",{className:"link",onClick:()=>(e=>{j(e),_(!0)})(n.row.original.aadharNo,a.jobTitle),children:"Reject"})]})}}],S=(0,Fe.A)(l,k,i),C=(0,Ne.Up)({...S});return(0,c.jsxs)(u.A,{container:!0,className:"profile-container",children:[(0,c.jsx)(u.A,{size:6,children:(0,c.jsxs)(I.A,{children:[(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Job Title"}),(0,c.jsx)(T.A,{secondary:null===a||void 0===a?void 0:a.jobTitle})]}),(0,c.jsx)(R.A,{variant:"inset",component:"li"}),(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Job Posting Date"}),(0,c.jsx)(T.A,{secondary:new Date(null===a||void 0===a?void 0:a.jobPostingDate).toLocaleDateString()})]}),(0,c.jsx)(R.A,{variant:"inset",component:"li"}),(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Application Deadline"}),(0,c.jsx)(T.A,{secondary:new Date(null===a||void 0===a?void 0:a.applicationDeadline).toLocaleDateString()})]}),(0,c.jsx)(R.A,{variant:"inset",component:"li"}),(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Job Description"}),(0,c.jsx)(T.A,{secondary:null===a||void 0===a?void 0:a.jobDescription})]}),(0,c.jsx)(R.A,{variant:"inset",component:"li"}),(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Required Skills"}),(0,c.jsx)(T.A,{secondary:null===a||void 0===a?void 0:a.requiredSkills})]}),(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Number of Vacancies"}),(0,c.jsx)(T.A,{secondary:null===a||void 0===a?void 0:a.numberOfVacancies})]})]})}),(0,c.jsx)(u.A,{size:6,children:(0,c.jsxs)(I.A,{children:[(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Candidates Hired"}),(0,c.jsx)(T.A,{secondary:null===a||void 0===a?void 0:a.candidatesHired})]}),(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Required Experience"}),(0,c.jsx)(T.A,{secondary:null===a||void 0===a?void 0:a.experience})]}),(0,c.jsx)(R.A,{variant:"inset",component:"li"}),(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Location"}),(0,c.jsx)(T.A,{secondary:null===a||void 0===a?void 0:a.location})]}),(0,c.jsx)(R.A,{variant:"inset",component:"li"}),(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Budget"}),(0,c.jsx)(T.A,{secondary:`${null===a||void 0===a?void 0:a.budget[0]} LPA - ${null===a||void 0===a?void 0:a.budget[1]} LPA`})]}),(0,c.jsx)(R.A,{variant:"inset",component:"li"}),(0,c.jsxs)(F.Ay,{alignItems:"flex-start",children:[(0,c.jsx)(T.A,{primary:"Hiring Manager"}),(0,c.jsx)(T.A,{secondary:null===a||void 0===a?void 0:a.hiringManager})]})]})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("br",{}),(0,c.jsx)("h3",{children:"Applications"}),(0,c.jsx)("br",{}),(0,c.jsx)(Ne.zp,{table:C})]}),(0,c.jsx)($e,{open:b,handleClose:()=>g(!1),jobTitle:null===a||void 0===a?void 0:a.jobTitle,name:h,email:d}),(0,c.jsx)(We,{open:A,handleClose:()=>f(!1),jobTitle:null===a||void 0===a?void 0:a.jobTitle,aadharNo:x,getJobApplications:w,email:d}),(0,c.jsx)(Xe,{open:v,handleClose:()=>_(!1),jobTitle:null===a||void 0===a?void 0:a.jobTitle,aadharNo:x,getJobApplications:w})]})}const ea=t.memo(Qe),aa=(0,t.lazy)((()=>Promise.all([n.e(3632),n.e(5243)]).then(n.bind(n,5243)))),na=(0,t.lazy)((()=>n.e(9965).then(n.bind(n,9965))));function ta(){const e=[{label:"Appraisal Form",component:aa},{label:"View Appraisals",component:na}];return(0,c.jsx)(se,{tabData:e,tabKey:"appraisal_tab_value"})}const ia=t.memo(ta),sa=t.lazy((()=>n.e(6361).then(n.bind(n,6361)))),ra=t.lazy((()=>n.e(2229).then(n.bind(n,2229))));function la(){const e=[{label:"Training Form",component:sa},{label:"View Trainings",component:ra}];return(0,c.jsx)(se,{tabData:e,tabKey:"training_tab_value"})}const oa=t.memo(la),ca=t.lazy((()=>n.e(4895).then(n.bind(n,4895)))),da=t.lazy((()=>n.e(3528).then(n.bind(n,3528))));function ua(){const e=[{label:"Add New Activity",component:ca},{label:"View Activities",component:da}];return(0,c.jsx)(se,{tabData:e,tabKey:"hr_activities_tab_value"})}const ma=t.memo(ua);var ha=n(1407),pa=n(6557),xa=n(6497),ja=n(3038),ba=n(760),ga=n(8785);const Aa=ye.Ik({from:ye.p6().required("From date is required").min(new Date((new Date).setHours(0,0,0,0)),"From date cannot be in the past"),to:ye.p6().required("To date is required").test("is-greater","To date must be the same or later than From date",(function(e){const{from:a}=this.parent;return e>=a})),reason:ye.Yj().required("Reason is required"),sick_leave:ye.zM(),medical_certificate:ye.Yj().when("sick_leave",{is:!0,then:e=>e.required("Medical certificate is required"),otherwise:e=>e.notRequired()})}),fa=(e,a)=>({renderTopToolbarCustomActions:()=>(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{children:(0,c.jsx)(x.A,{value:e,onChange:e=>a(e.target.value),type:"month",size:"small",sx:{width:"200px",margin:0,marginRight:"20px"}})})})});function ya(e){(0,t.useEffect)((()=>{e.getOwnLeaves()}),[e.date]);const a=[{accessorKey:"from",header:"From",Cell:e=>{var a;let{cell:n}=e;const t=null===(a=n.row.original)||void 0===a?void 0:a.from;return"string"===typeof t?(0,c.jsx)(c.Fragment,{children:t.split("-").reverse().join("-")}):t instanceof Date?(0,c.jsx)(c.Fragment,{children:t.toLocaleDateString("en-GB")}):(0,c.jsx)(c.Fragment,{children:"N/A"})}},{accessorKey:"to",header:"To",Cell:e=>{var a;let{cell:n}=e;const t=null===(a=n.row.original)||void 0===a?void 0:a.to;return"string"===typeof t?(0,c.jsx)(c.Fragment,{children:t.split("-").reverse().join("-")}):t instanceof Date?(0,c.jsx)(c.Fragment,{children:t.toLocaleDateString("en-GB")}):(0,c.jsx)(c.Fragment,{children:"N/A"})}},{accessorKey:"reason",header:"Reason"},{accessorKey:"sick_leave",header:"Sick Leave"},{accessorKey:"medical_certificate",header:"Medical Certificate"},{accessorKey:"status",header:"Status"}],n=(0,Re.Y)(a),i=(0,Fe.A)(e.data,n,e.loading),s=fa(e.date,e.setDate),r=(0,Ne.Up)({...i,...s});return(0,c.jsx)("div",{children:(0,c.jsx)(Ne.zp,{table:r})})}const va=t.memo(ya);function _a(){const[e,a]=(0,t.useState)(!1),[i,s]=(0,t.useState)([]),[r,l]=(0,t.useState)(!1),[o,d]=(0,t.useState)((()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`})),u=(0,t.useRef)({medicalCertificate:null}),{setAlert:m}=(0,t.useContext)(v.C);async function h(){try{l(!0);const[e,a]=o.split("-"),n=await(0,y.A)(`/get-own-leaves/${e}-${a}`);s(n.data)}catch(e){console.error(e)}finally{l(!1)}}const p=(0,fe.Wx)({initialValues:{from:"",to:"",reason:"",sick_leave:!1,medical_certificate:""},validationSchema:Aa,onSubmit:async e=>{try{await y.A.post("/add-leave",e),h()}catch(a){m({open:!0,message:"Network Error"===a.message?"Network Error, your details will be submitted when you are back online":a.response.data.message,severity:"error"})}}});return(0,c.jsxs)("form",{onSubmit:p.handleSubmit,children:[(0,c.jsx)(we.A,{id:"from",name:"from",label:"From",type:"date",formik:p}),(0,c.jsx)(we.A,{id:"to",name:"to",label:"To",type:"date",formik:p}),(0,c.jsx)(we.A,{id:"reason",name:"reason",label:"Reason",formik:p,useSpeech:!0}),(0,c.jsx)(pa.A,{children:(0,c.jsx)(xa.A,{control:(0,c.jsx)(ja.A,{id:"sick_leave",name:"sick_leave",checked:p.values.sick_leave,onChange:p.handleChange}),label:"Sick Leave"})}),p.values.sick_leave&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ha.A,{name:"Medical Certificate",onChange:async e=>{const{handleFileUpload:t}=await Promise.resolve().then(n.bind(n,7256));t(e,"medical_certificate","leaves",p,a,!1)},ref:e=>u.current.medicalCertificate=e}),(0,c.jsx)("br",{}),p.values.medical_certificate&&p.values.medical_certificate.length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("br",{}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("a",{href:p.values.medical_certificate,children:"View"}),(0,c.jsx)("br",{})]}),(0,c.jsx)(W.A,{onClick:()=>p.setFieldValue("medical_certificate",[]),children:(0,c.jsx)(ba.A,{})})]})]}):null,p.touched.medical_certificate&&p.errors.medical_certificate?(0,c.jsx)("div",{style:{color:"red"},children:p.errors.medical_certificate}):null]}),(0,c.jsx)(_e.A,{name:"Submit",isSubmitting:p.isSubmitting}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("h4",{children:"My Leave Applications"}),(0,c.jsx)(va,{getOwnLeaves:h,data:i,date:o,setDate:d,loading:r}),(0,c.jsx)(ga.A,{open:e,message:"File uploaded successfully!",sx:{left:"auto !important",right:"24px !important"}})]})}const wa=t.memo(_a);function ka(){const[e,a]=(0,t.useState)([]),[n,i]=(0,t.useState)((()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`})),[s,r]=(0,t.useState)(!1),l=[{accessorKey:"username",header:"Username"},{accessorKey:"presents",header:"Presents"},{accessorKey:"halfDays",header:"Half Days"},{accessorKey:"weekOffs",header:"Week Offs"},{accessorKey:"leaves",header:"Total Leaves"},{accessorKey:"paidLeaves",header:"Paid Leaves",Cell:e=>{let{cell:a}=e;const n=a.row.original.leaves;return isNaN(n)?(0,c.jsx)(Ie.A,{width:"80%"}):(0,c.jsx)(c.Fragment,{children:Math.min(n,"1.5")})}},{accessorKey:"unpaidLeaves",header:"Unpaid Leaves",Cell:e=>{let{cell:a}=e;const n=a.row.original.leaves;return isNaN(n)?(0,c.jsx)(Ie.A,{width:"80%"}):(0,c.jsx)(c.Fragment,{children:Math.max(0,n-"1.5")})}}],o=(0,Re.Y)(l),d=(0,Fe.A)(e,o,s),u=fa(n,i),m=(0,Ne.Up)({...d,...u});return(0,t.useEffect)((()=>{!async function(){r(!0);try{const[e,t]=n.split("-"),i=await(0,y.A)(`/get-all-attendances/${e}/${t}`);a(i.data)}catch(e){console.error(e)}finally{r(!1)}}()}),[n]),(0,c.jsx)("div",{children:(0,c.jsx)(Ne.zp,{table:m})})}const Sa=t.memo(ka);function Ca(){const[e,a]=(0,t.useState)([]),[n,i]=(0,t.useState)(!1),{setAlert:s}=(0,t.useContext)(v.C),[r,l]=(0,t.useState)((()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}));async function o(){i(!0);try{const[e,n]=r.split("-"),t=await(0,y.A)(`/get-leave-applications/${e}-${n}`);a(t.data)}catch(e){console.error(e)}finally{i(!1)}}const d=async(e,a,n)=>{try{await y.A.put("/update-leave-status",{_id:e,username:a,status:n}),o()}catch(t){s({open:!0,message:"Network Error"===t.message?"Network Error, your details will be submitted when you are back online":t.response.data.message,severity:"error"})}},u=[{accessorKey:"username",header:"Username",size:160},{accessorKey:"from",header:"From",size:120},{accessorKey:"to",header:"To",size:120},{accessorKey:"reason",header:"Reason",size:200},{accessorKey:"sick_leave",header:"Sick Leave",size:130},{accessorKey:"medical_certificate",header:"Medical Certificate",size:180},{accessorKey:"status",header:"Status",size:150},{accessorKey:"approve",header:"Action",size:220,Cell:e=>{let{cell:a}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"link",onClick:()=>d(a.row.original._id,a.row.original.username,"Approve"),children:"Approve\xa0|\xa0"}),(0,c.jsx)("span",{className:"link",onClick:()=>d(a.row.original._id,a.row.original.username,"Reject"),children:"Reject"})]})}}],m=(0,Fe.A)(e,u,n),h=fa(r,l),p=(0,Ne.Up)({...m,...h});return(0,t.useEffect)((()=>{o()}),[r]),(0,c.jsx)("div",{children:(0,c.jsx)(Ne.zp,{table:p})})}const Ea=t.memo(Ca),Da=ye.Ik({date:ye.p6().required("Date is required").min(new Date((new Date).setHours(0,0,0,0)),"From date cannot be in the past")});function Na(e){(0,t.useEffect)((()=>{e.getWeekOffs()}),[e.date]);const a=[{accessorKey:"from",header:"Date",Cell:e=>{var a;let{cell:n}=e;const t=null===(a=n.row.original)||void 0===a?void 0:a.from;return"string"===typeof t?(0,c.jsx)(c.Fragment,{children:t.split("-").reverse().join("-")}):t instanceof Date?(0,c.jsx)(c.Fragment,{children:t.toLocaleDateString("en-GB")}):(0,c.jsx)(c.Fragment,{children:"N/A"})}},{accessorKey:"status",header:"Status"}],n=(0,Fe.A)(e.data,a,e.loading),i=fa(e.date,e.setDate),s=(0,Ne.Up)({...n,...i});return(0,c.jsx)("div",{children:(0,c.jsx)(Ne.zp,{table:s})})}const Ia=t.memo(Na);function Fa(){const[e,a]=(0,t.useState)([]),[n,i]=(0,t.useState)(!1),[s,r]=(0,t.useState)((()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`})),{setAlert:l}=(0,t.useContext)(v.C);async function o(){try{i(!0);const[e,n]=s.split("-"),t=await(0,y.A)(`/get-own-week-offs/${e}-${n}`);a(t.data)}catch(e){console.error(e)}finally{i(!1)}}const d=(0,fe.Wx)({initialValues:{date:""},validationSchema:Da,onSubmit:async e=>{try{await y.A.put("/add-week-off",e),o()}catch(a){l({open:!0,message:"Network Error"===a.message?"Network Error, your details will be submitted when you are back online":a.response.data.message,severity:"error"})}}});return(0,c.jsxs)("form",{onSubmit:d.handleSubmit,children:[(0,c.jsx)(we.A,{id:"date",name:"date",label:"Date",type:"date",formik:d}),(0,c.jsx)(_e.A,{name:"Submit",isSubmitting:d.isSubmitting}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("h4",{children:"My Week Offs"}),(0,c.jsx)(Ia,{getWeekOffs:o,date:s,setDate:r,data:e,loading:n})]})}const Ra=t.memo(Fa);function Ta(){const e=(0,b.A)(),{setAlert:a}=(0,t.useContext)(v.C),n=(0,fe.Wx)({initialValues:{username:"",timeIn:"",timeOut:""},onSubmit:async e=>{try{const n=await y.A.put("/attendance-correction",e);a({open:!0,message:n.data.message,severity:"success"})}catch(n){a({open:!0,message:"Network Error"===n.message?"Network Error, your details will be submitted when you are back online":n.response.data.message,severity:"error"})}}});return(0,c.jsxs)("form",{onSubmit:n.handleSubmit,children:[(0,c.jsx)(j.A,{value:n.values.username,onChange:(e,a)=>{n.setFieldValue("username",a)},options:e,getOptionLabel:e=>e||"",sx:{marginBottom:"10px"},renderInput:e=>(0,c.jsx)(x.A,{...e,className:"login-input",fullWidth:!0,variant:"filled",size:"small",label:"Select User",error:n.touched.username&&Boolean(n.errors.username),helperText:n.touched.username&&n.errors.username})}),(0,c.jsx)(we.A,{id:"timeIn",name:"timeIn",label:"Time In",type:"time",formik:n}),(0,c.jsx)(we.A,{id:"timeOut",name:"timeOut",label:"Time Out",type:"time",formik:n}),(0,c.jsx)(_e.A,{name:"Submit",isSubmitting:n.isSubmitting})]})}const za=t.memo(Ta);function qa(){const[e,a]=(0,t.useState)([]),[n,i]=(0,t.useState)(!1),{setAlert:s}=(0,t.useContext)(v.C),[r,l]=(0,t.useState)((()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}));async function o(){try{i(!0);const[e,n]=r.split("-"),t=await(0,y.A)(`/get-week-offs/${e}-${n}`);a(t.data)}catch(e){console.error(e)}finally{i(!1)}}const d=async(e,a)=>{try{await y.A.put("/update-week-off-status",{_id:e,status:a}),o()}catch(n){s({open:!0,message:"Network Error"===n.message?"Network Error, your details will be submitted when you are back online":n.response.data.message,severity:"error"})}},u=[{accessorKey:"username",header:"Username"},{accessorKey:"date",header:"Date",Cell:e=>{let{cell:a}=e;return(0,c.jsx)(c.Fragment,{children:"Invalid Date"===new Date(a.row.original.date).toLocaleDateString("en-GB").replace(/\//g,"-")?(0,c.jsx)(Ie.A,{width:"60%"}):(0,c.jsx)(c.Fragment,{children:new Date(a.row.original.date).toLocaleDateString("en-GB").replace(/\//g,"-")})})}},{accessorKey:"status",header:"Status"},{accessorKey:"approve",header:"Action",Cell:e=>{let{cell:a}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"link",onClick:()=>d(a.row.original._id,"Approve"),children:"Approve\xa0|\xa0"}),(0,c.jsx)("span",{className:"link",onClick:()=>d(a.row.original._id,"Reject"),children:"Reject"})]})}}],m=(0,Re.Y)(u),h=(0,Fe.A)(e,m,n),p=fa(r,l),x=(0,Ne.Up)({...h,...p});return(0,t.useEffect)((()=>{o()}),[r]),(0,c.jsx)("div",{children:(0,c.jsx)(Ne.zp,{table:x})})}const Pa=t.memo(qa);function Ma(){const{user:e}=t.useContext(i.R),a=[{label:"View All Attendances",component:Sa},{label:"Leave Application",component:wa},{label:"View Leave Applications",component:Ea},{label:"Week Off",component:Ra},{label:"View Week Offs",component:Pa},{label:"Attendance Correction",component:za}],n=[{label:"Leave Application",component:wa},{label:"Week Off",component:Ra}],s=e.rank<=2?a:n;return(0,c.jsx)(se,{tabData:s,tabKey:"attendance_tab_value"})}const La=t.memo(Ma),Ba=t.lazy((()=>n.e(4955).then(n.bind(n,4955)))),Ka=t.lazy((()=>n.e(7741).then(n.bind(n,7741)))),Va=t.lazy((()=>Promise.all([n.e(3632),n.e(5163)]).then(n.bind(n,5163))));function Ua(){const e=[{label:"Resignation Form",component:Ba},{label:"View Resignations",component:Ka},{label:"Exit Feedback",component:Va}];return(0,c.jsx)(se,{tabData:e,tabKey:"resignation_tab_value"})}const Ya=t.memo(Ua),Ha=t.lazy((()=>n.e(2223).then(n.bind(n,2223)))),$a=t.lazy((()=>n.e(7685).then(n.bind(n,7685))));function Oa(){const e=[{label:"Warning Memo Form",component:Ha},{label:"View Warning Memos",component:$a}];return(0,c.jsx)(se,{tabData:e,tabKey:"warning_memo_tab_value"})}const Ja=t.memo(Oa),Wa=e=>[{path:"/profile",element:(0,c.jsx)(N,{}),allowedModules:[],name:"Profile",category:null,canBeAssigned:!1},{path:"/",element:(0,c.jsx)(H,{}),allowedModules:[],name:"Dashboard",category:null,canBeAssigned:!1},{path:"/calendar",element:(0,c.jsx)(te,{}),allowedModules:[],name:"Calendar",category:null,canBeAssigned:!1},{path:"/modules",element:(0,c.jsx)(p,{}),allowedModules:[],name:"Modules",category:null,canBeAssigned:!1},{path:"/analytics",element:(0,c.jsx)(ce,{}),allowedModules:[],name:"Analytics",category:null,canBeAssigned:!1},...(null===e||void 0===e?void 0:e.rank)<=2?[{path:"/assign",element:(0,c.jsx)(f,{}),allowedModules:[],name:"Assign",category:null,canBeAssigned:!1}]:[],{path:"/help",element:(0,c.jsx)(q,{}),allowedModules:[],name:"Help",category:null,canBeAssigned:!1},{path:"/hr-activities",element:(0,c.jsx)(ma,{}),allowedModules:["HR Activities"],name:"HR Activities",category:"HR & Management",canBeAssigned:!0},{path:"/warning-memo",element:(0,c.jsx)(Ja,{}),allowedModules:["Warning Memo"],name:"Warning Memo",category:"HR & Management",canBeAssigned:!0},{path:"/kyc",element:(0,c.jsx)(he,{}),allowedModules:["Basic KYC Details"],name:"Basic KYC Details",category:"HR & Management",canBeAssigned:!0},{path:"/view-kyc/:username",element:(0,c.jsx)(je,{}),allowedModules:["Basic KYC Details"],name:"View KYC Details",category:"HR & Management",canBeAssigned:!1},{path:"/edit-kyc/:username",element:(0,c.jsx)(Ae,{}),allowedModules:["Basic KYC Details"],name:"Edit KYC Details",category:"HR & Management",canBeAssigned:!1},{path:"/job-openings",element:(0,c.jsx)(Pe,{}),allowedModules:["Job Openings"],name:"Job Openings",category:"HR & Management",canBeAssigned:!0},{path:"/view-job-opening/:_id",element:(0,c.jsx)(ea,{}),allowedModules:["Job Openings"],name:"View Job",category:"HR & Management",canBeAssigned:!1},{path:"/performance-appraisal",element:(0,c.jsx)(ia,{}),allowedModules:["Performance Appraisal"],name:"Performance Appraisal",category:"HR & Management",canBeAssigned:!0},{path:"/training",element:(0,c.jsx)(oa,{}),allowedModules:["Training And Development"],name:"Training And Development",category:"HR & Management",canBeAssigned:!0},{path:"/attendance",element:(0,c.jsx)(La,{}),allowedModules:["Attendance & Leaves"],name:"Attendance & Leaves",category:"HR & Management",canBeAssigned:!0},{path:"/resignation-process",element:(0,c.jsx)(Ya,{}),allowedModules:["Resignation Process"],name:"Resignation Process",category:"HR & Management",canBeAssigned:!0}]},7256:(e,a,n)=>{n.d(a,{handleFileUpload:()=>i});var t=n(3785);const i=async(e,a,n,i,s,r)=>{const l=e.target.files;if(!l||0===l.length)return void alert("No file selected");try{const o=[];for(let a=0;a<l.length;a++){const i=l[a];if(i.size>5242880)return e.target.value=null,void alert(`File ${i.name} exceeds the 5MB limit.`);const s=await t.A.post("/generate-presigned-url",{fileName:i.name,folderName:n,fileType:i.type}),{url:r}=s.data;await t.A.put(r,i,{headers:{"Content-Type":i.type}});const c=r.split("?")[0];o.push(c)}i.setValues((e=>({...e,[a]:r?o:o[0]}))),s(!0),e.target.value=null,setTimeout((()=>{s(!1)}),3e3)}catch(o){console.error("Error uploading file(s):",o),alert("Error uploading file(s). Please try again.")}}},8727:(e,a,n)=>{n.d(a,{J:()=>t});const t=(e,a,n,t)=>{const i=(new Date(e,a,1).getDay()+6)%7,s=new Date(e,a+1,0).getDate(),r=new Date(e,a,0).getDate(),l=[];for(let c=i-1;c>=0;c--)l.push({day:r-c,isCurrentMonth:!1});for(let c=1;c<=s;c++){const t=c===n.getDate()&&a===n.getMonth()&&e===n.getFullYear();l.push({day:c,isCurrentMonth:!0,isToday:t})}const o=42-l.length;for(let c=1;c<=o;c++)l.push({day:c,isCurrentMonth:!1});t(l)}},7813:(e,a,n)=>{n.d(a,{i:()=>t});const t={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:700,bgcolor:"background.paper",boxShadow:24,borderRadius:5,outline:0,p:4}},7443:(e,a,n)=>{n.d(a,{Y:()=>t});const t=e=>{const a=e=>{const a=Math.floor(100/e).toFixed(2);return{muiTableHeadCellProps:{sx:{width:`${a}%`}},muiTableBodyCellProps:{sx:{width:`${a}%`}},enableSorting:!1}};return e.map((n=>({...n,...a(e.length)})))}},9800:()=>{},5546:()=>{}}]);