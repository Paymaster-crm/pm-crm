"use strict";(self.webpackChunkpaymaster_crm=self.webpackChunkpaymaster_crm||[]).push([[7939],{7939:(e,o,a)=>{a.d(o,{addAttendance:()=>r});var t=a(3785);const r=async(e,o,a)=>{try{const o=await new Promise(((e,o)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((o=>e(o)),(e=>o(e)),{timeout:1e4,maximumAge:0}):o(new Error("Geolocation is not supported by this browser."))})),{latitude:r,longitude:s}=o.coords;await t.A.post("/add-attendance",{field:e,latitude:r,longitude:s}),a()}catch(r){let e="";if(r.response)e=r.response.data.message;else switch(r.message){case"Network Error":e="Network Error, your details will be submitted when you are back online";break;case"User denied Geolocation":e="Location permission denied. Please enable location.";break;default:e=r.message||"An unknown error occurred."}o({open:!0,message:e,severity:"error"})}}}}]);