"use strict";(self.webpackChunkpaymaster_crm=self.webpackChunkpaymaster_crm||[]).push([[720],{720:(e,s,a)=>{a.r(s),a.d(s,{default:()=>k});var n=a(9950),c=a(2436),l=a(9246),d=a(4414);const i=(0,n.lazy)((()=>a.e(4438).then(a.bind(a,4438)))),r=(0,n.lazy)((()=>a.e(9126).then(a.bind(a,9126)))),t=(0,n.lazy)((()=>a.e(7568).then(a.bind(a,7568)))),o=(0,n.lazy)((()=>Promise.resolve().then(a.bind(a,6781)))),h=(0,n.lazy)((()=>Promise.resolve().then(a.bind(a,8459)))),u=(0,n.lazy)((()=>a.e(7375).then(a.bind(a,7375)))),p=(0,n.lazy)((()=>a.e(7988).then(a.bind(a,7988)))),x=(0,n.lazy)((()=>a.e(7240).then(a.bind(a,7240))));function b(){var e;const{user:s,setUser:a}=(0,n.useContext)(c.R),b=(e=>{const s=[];for(let a=0;a<(null===e||void 0===e?void 0:e.length);a+=2)s.push(e.slice(a,a+2));return s})(s.backupCodes);return(0,d.jsxs)("div",{className:"backup-codes",style:{backgroundColor:"white",padding:"20px"},children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,d.jsxs)("div",{style:{flex:1},children:[(0,d.jsx)("h5",{children:"Your Backup Codes"}),(0,d.jsxs)("p",{children:[null===(e=s.backupCodes)||void 0===e?void 0:e.length," backup codes remaining"]})]}),(0,d.jsx)("div",{children:(0,d.jsxs)(n.Suspense,{fallback:(0,d.jsx)("div",{children:"Loading..."}),children:[(0,d.jsx)(r,{title:"Request new backup codes",children:(0,d.jsx)(i,{onClick:async()=>{try{const e=await(0,l.A)("https://sameer-yadav.online/api/request-new-backup-codes",{withCredentials:!0});a({...s,backupCodes:e.data.backupCodes})}catch(e){console.error("Error occurred while requesting new backup codes:",e)}},children:(0,d.jsx)(u,{})})}),(0,d.jsx)(r,{title:"Delete backup codes",children:(0,d.jsx)(i,{onClick:async()=>{try{const e=await l.A.delete("https://sameer-yadav.online/api/delete-backup-codes",{withCredentials:!0});"Backup codes deleted"===e.data.message?a({...s,backupCodes:[]}):alert(e.data.message)}catch(e){alert("An error occurred while deleting backup codes."),console.error("Error deleting backup codes:",e)}},children:(0,d.jsx)(p,{})})}),(0,d.jsx)(r,{title:"Email backup codes",children:(0,d.jsx)(i,{onClick:async()=>{try{const e=await(0,l.A)("https://sameer-yadav.online/api/send-backup-codes-email",{withCredentials:!0});alert(e.data.message)}catch(e){console.error("Error sending email:",e),alert("Failed to send email.")}},children:(0,d.jsx)(x,{})})})]})})]}),(0,d.jsx)(n.Suspense,{fallback:(0,d.jsx)("div",{children:"Loading..."}),children:(0,d.jsx)(t,{variant:"fullWidth",sx:{opacity:1,margin:"20px 0"}})}),b.map(((e,s)=>(0,d.jsx)(n.Suspense,{fallback:(0,d.jsx)("div",{children:"Loading..."}),children:(0,d.jsxs)(o,{className:"backup-codes-row",children:[(0,d.jsx)(h,{xs:6,children:(0,d.jsx)("p",{children:e[0]})}),(0,d.jsx)(h,{xs:6,children:e[1]&&(0,d.jsx)("p",{children:e[1]})})]})},s)))]})}const k=n.memo(b)}}]);