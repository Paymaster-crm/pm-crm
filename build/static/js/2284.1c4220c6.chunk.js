"use strict";(self.webpackChunkpaymaster_crm=self.webpackChunkpaymaster_crm||[]).push([[2284,3557,6888,3788],{3557:(e,a,r)=>{r.r(a),r.d(a,{default:()=>c});var n=r(9950),i=r(9254),t=r(226),s=r(4414);const o=n.lazy((()=>r.e(5569).then(r.bind(r,5569)))),d=(0,i.Ay)(t.A)({backgroundColor:"#111b21",color:"#fff",padding:"8px 20px",cursor:"pointer",boxShadow:"0 0 20px 1px rgba(0, 0, 0, 0.3)",borderRadius:"8px",marginTop:"10px",textTransform:"none",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{backgroundColor:"#111b21",boxShadow:"0 0 20px 1px rgba(0, 0, 0, 0.3)"}});function l(e){return(0,s.jsx)(d,{startIcon:e.isSubmitting?(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(o,{style:{margin:0,width:20,height:20,marginRight:10,color:"#fff"}}),children:(0,s.jsx)(o,{style:{margin:0,width:20,height:20,marginRight:10,color:"#fff"}})}):null,type:"submit",disableRipple:!0,variant:"contained",disabled:e.isSubmitting,children:e.name})}const c=n.memo(l)},6888:(e,a,r)=>{r.r(a),r.d(a,{default:()=>d});var n=r(9950),i=r(8145),t=r(3266),s=r(4414);const o=e=>{let{id:a,name:r,label:n,formik:o,type:d="text",options:l=[],select:c=!1,...u}=e;return(0,s.jsx)(i.A,{select:c,type:d,size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:a,name:r,label:n,value:o.values[r],onChange:o.handleChange,error:o.touched[r]&&Boolean(o.errors[r]),helperText:o.touched[r]&&o.errors[r],className:"login-input",InputLabelProps:{shrink:!0},...u,children:c&&l.map((e=>(0,s.jsx)(t.A,{value:e.value,children:e.label},e.value)))})},d=n.memo(o)},1407:(e,a,r)=>{r.r(a),r.d(a,{default:()=>u});var n=r(9950),i=r(9254),t=r(226),s=r(4414);const o=(0,n.lazy)((()=>r.e(939).then(r.bind(r,939)))),d=(0,i.Ay)(t.A)({backgroundColor:"#111b21",color:"#fff",padding:"8px 20px",cursor:"pointer",boxShadow:"0 0 20px 1px rgba(0, 0, 0, 0.3)",borderRadius:"8px",marginTop:"10px",textTransform:"none",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{backgroundColor:"#111b21",boxShadow:"0 0 20px 1px rgba(0, 0, 0, 0.3)"}}),l=(0,i.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),c=n.forwardRef(((e,a)=>{let{name:r,onChange:i}=e;return(0,s.jsxs)(d,{component:"label",role:void 0,variant:"contained",tabIndex:-1,onChange:i,startIcon:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading Icon..."}),children:(0,s.jsx)(o,{style:{margin:0,width:20,height:20,marginRight:10,color:"#fff"}})}),children:[r,(0,s.jsx)(l,{type:"file",multiple:!0})]})})),u=n.memo(c)},2284:(e,a,r)=>{r.r(a),r.d(a,{default:()=>T});var n=r(9950),i=r(3939),t=r(8145),s=r(6781),o=r(8459),d=r(9246);const l=["Andaman and Nicobar Islands","Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chandigarh","Chhattisgarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Goa","Gujarat","Haryana","Himachal Pradesh","Jammu and Kashmir","Jharkhand","Karnataka","Kerala","Ladakh","Lakshadweep","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Puducherry","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal"];var c=r(8587),u=r(8168),m=r(2004),h=r(8465),_=r(9254),p=r(7353),f=r(1763),b=r(423);function x(e){return(0,b.Ay)("MuiFormGroup",e)}(0,f.A)("MuiFormGroup",["root","row","error"]);var j=r(9766),g=r(8624),v=r(4414);const k=["className","row"],A=(0,_.Ay)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:r}=e;return[a.root,r.row&&a.row]}})((e=>{let{ownerState:a}=e;return(0,u.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},a.row&&{flexDirection:"row"})})),y=n.forwardRef((function(e,a){const r=(0,p.b)({props:e,name:"MuiFormGroup"}),{className:n,row:i=!1}=r,t=(0,c.A)(r,k),s=(0,j.A)(),o=(0,g.A)({props:r,muiFormControl:s,states:["error"]}),d=(0,u.A)({},r,{row:i,error:o.error}),l=(e=>{const{classes:a,row:r,error:n}=e,i={root:["root",r&&"row",n&&"error"]};return(0,h.A)(i,x,a)})(d);return(0,v.jsx)(A,(0,u.A)({className:(0,m.A)(l.root,n),ownerState:d,ref:a},t))}));var q=r(6497),C=r(3038),S=r(8785),P=r(9714);const w=/[a-zA-Z0-9_]+(\.)?[a-zA-Z0-9_]+[@]{1}[a-zA-Z]+\.[a-zA-Z]{2,6}/,E=/^\d{6}$/,I=P.Ik({designation:P.Yj("Enter designation").required("Designation is required"),department:P.Yj("Enter department").required("Department is required"),joining_date:P.Yj("Enter joining date").required("Joining date is required"),dob:P.Yj("Enter date of birth").required("Date of birth is required"),permanent_address_line_1:P.Yj("Enter address line 1").required("Address line 1 is required"),permanent_address_line_2:P.Yj("Enter address line 2").required("Address line 2 is required"),permanent_address_city:P.Yj("Enter city").required("City is required"),permanent_address_state:P.Yj("Enter state").required("State is required"),permanent_address_pincode:P.Yj("Enter pincode").required("Pincode is required").matches(E,"Invalid pincode"),communication_address_line_1:P.Yj("Enter address line 1").required("Address line 1 is required"),communication_address_line_2:P.Yj("Enter address line 2").required("Address line 2 is required"),communication_address_city:P.Yj("Enter city").required("City is required"),communication_address_state:P.Yj("Enter state").required("State is required"),communication_address_pincode:P.Yj("Enter pincode").required("Pincode is required").matches(E,"Invalid pincode"),email:P.Yj().email("Invalid email").matches(w,"Invalid official email"),official_email:P.Yj().email("Invalid email").matches(w,"Invalid official email"),mobile:P.Yj("Enter mobile number").required("Mobile number is required").matches(/^[6-9]\d{9}$/,"Invalid mobile"),blood_group:P.Yj("Enter blood group").required("Blood group is required"),highest_qualification:P.Yj("Enter highest qualification").required("Highest qualification is required"),aadhar_no:P.Yj("Enter aadhar no").required("Aadhar no is required").matches(/^\d{12}$/,"Invalid aadhar no"),aadhar_photo_front:P.Yj("Enter aadhar photo front").required("Aadhar photo front is required"),aadhar_photo_back:P.Yj("Enter aadhar photo back").required("Aadhar photo back is required"),pan_no:P.Yj("Enter pan no").required("Pan no is required").matches(/^[A-Z]{5}\d{4}[A-Z]$/,"Invalid pan no"),pan_photo:P.Yj("Enter pan photo").required("Pan photo is required"),insurance_status:P.YO().of(P.Yj()).min(1,"At least one insurance status is required").required("Insurance status is required"),bank_account_no:P.Yj("Enter bank account no").required("Bank account no is required"),bank_name:P.Yj("Enter bank name").required("Bank name is required"),ifsc_code:P.Yj("Enter IFSC code").required("IFSC code is required")});var N=r(8429),Y=r(3557),F=r(1407),D=r(7256);const B=(e,a,r)=>{const{value:n}=e.target,i=n.replace(/\D/g,"").slice(0,6);r.setFieldValue(a,i)},M=(e,a)=>{const r=e.target.name,n=e.target.checked,i=a.values.insurance_status;let t=[];t=n?[...i,r]:i.filter((e=>e!==r)),a.setFieldValue("insurance_status",t)};var L=r(6888);function R(e){const[a,r]=(0,n.useState)(!1),{username:c}=(0,N.g)(),u=(0,n.useRef)({aadharPhotoFront:null,aadharPhotoBack:null,panPhoto:null}),m=(0,i.Wx)({initialValues:{first_name:"",middle_name:"",last_name:"",designation:"",department:"",joining_date:"",dob:"",permanent_address_line_1:"",permanent_address_line_2:"",permanent_address_city:"",permanent_address_state:"",permanent_address_pincode:"",communication_address_line_1:"",communication_address_line_2:"",communication_address_city:"",communication_address_state:"",communication_address_pincode:"",email:"",official_email:"",mobile:"",blood_group:"",highest_qualification:"",aadhar_no:"",aadhar_photo_front:"",aadhar_photo_back:"",pan_no:"",pan_photo:"",pf_no:"",esic_no:"",insurance_status:[],bank_account_no:"",bank_name:"",ifsc_code:""},validationSchema:I,onSubmit:async a=>{try{const r=await d.A.post("https://sameer-yadav.online/api/complete-kyc",{...a,username:e.username},{withCredentials:!0});alert(r.data.message)}catch(r){console.error("Error occurred during KYC submission:",r)}}});return(0,n.useEffect)((()=>{!async function(){if(c)try{const e=await d.A.get(`https://sameer-yadav.online/api/get-user-data/${c}`,{withCredentials:!0});m.setValues(e.data)}catch(e){console.error("Error occurred while fetching user data:",e)}}()}),[c]),(0,v.jsxs)("form",{onSubmit:m.handleSubmit,children:[(0,v.jsxs)(s.default,{children:[(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(L.default,{id:"designation",name:"designation",label:"Designation",formik:m})}),(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(L.default,{id:"department",name:"department",label:"Department",formik:m,select:!0,options:[{value:"Operations",label:"Operations"},{value:"Accounts",label:"Accounts"},{value:"Field",label:"Field"},{value:"Office Assistant",label:"Office Assistant"},{value:"Software Development",label:"Software Development"},{value:"Designing",label:"Designing"},{value:"Sales & Marketing",label:"Sales & Marketing"},{value:"HR Admin",label:"HR Admin"}]})}),(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(L.default,{id:"joining_date",name:"joining_date",label:"Joining Date",formik:m,type:"date"})})]}),(0,v.jsxs)(s.default,{children:[(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(L.default,{id:"dob",name:"dob",label:"dob",formik:m,type:"date"})}),(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(L.default,{id:"email",name:"email",label:"Email",formik:m})}),(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(L.default,{id:"official_email",name:"official_email",label:"Official Email",formik:m})})]}),(0,v.jsxs)(s.default,{children:[(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(t.A,{size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:"mobile",name:"mobile",label:"Mobile",value:m.values.mobile,error:m.touched.mobile&&Boolean(m.errors.mobile),helperText:m.touched.mobile&&m.errors.mobile,className:"login-input",InputLabelProps:{shrink:!0},onChange:e=>{(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&m.handleChange(e)},inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:10}})}),(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(L.default,{id:"blood_group",name:"blood_group",label:"Blood Group",formik:m})}),(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(L.default,{id:"highest_qualification",name:"highest_qualification",label:"Highest Qualification",formik:m})})]}),(0,v.jsx)("br",{}),(0,v.jsx)("h5",{children:"Permanent Address"}),(0,v.jsx)(L.default,{id:"permanent_address_line_1",name:"permanent_address_line_1",label:"Address Line 1",formik:m}),(0,v.jsx)(L.default,{id:"permanent_address_line_2",name:"permanent_address_line_2",label:"Address Line 2",formik:m}),(0,v.jsxs)(s.default,{children:[(0,v.jsx)(o.default,{children:(0,v.jsx)(L.default,{id:"permanent_address_city",name:"permanent_address_city",label:"City",formik:m})}),(0,v.jsx)(o.default,{children:(0,v.jsx)(L.default,{id:"permanent_address_state",name:"permanent_address_state",label:"State",formik:m,select:!0,options:l.map((e=>({value:e,label:e})))})}),(0,v.jsx)(o.default,{children:(0,v.jsx)(t.A,{size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:"permanent_address_pincode",name:"permanent_address_pincode",label:"PIN Code",value:m.values.permanent_address_pincode,onChange:e=>B(e,"permanent_address_pincode",m),error:m.touched.permanent_address_pincode&&Boolean(m.errors.permanent_address_pincode),helperText:m.touched.permanent_address_pincode&&m.errors.permanent_address_pincode,className:"login-input",InputLabelProps:{shrink:!0}})})]}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("h5",{children:"Communication Address"}),(0,v.jsx)(q.A,{control:(0,v.jsx)(C.A,{name:"sameAsPermanentAddress",onChange:e=>((e,a)=>{e.target.checked?a.setValues({...a.values,communication_address_line_1:a.values.permanent_address_line_1,communication_address_line_2:a.values.permanent_address_line_2,communication_address_city:a.values.permanent_address_city,communication_address_area:a.values.permanent_address_area,communication_address_state:a.values.permanent_address_state,communication_address_pincode:a.values.permanent_address_pincode}):a.setValues({...a.values,communication_address_line_1:"",communication_address_line_2:"",communication_address_city:"",communication_address_area:"",communication_address_state:"",communication_address_pincode:""})})(e,m)}),label:"Same as Permanent Address"}),(0,v.jsx)(L.default,{id:"communication_address_line_1",name:"communication_address_line_1",label:"Address Line 1",formik:m}),(0,v.jsx)(L.default,{id:"communication_address_line_2",name:"communication_address_line_2",label:"Address Line 2",formik:m}),(0,v.jsxs)(s.default,{children:[(0,v.jsx)(o.default,{children:(0,v.jsx)(L.default,{id:"communication_address_city",name:"communication_address_city",label:"City",formik:m})}),(0,v.jsx)(o.default,{children:(0,v.jsx)(L.default,{id:"communication_address_state",name:"communication_address_state",label:"State",formik:m,select:!0,options:l.map((e=>({value:e,label:e})))})}),(0,v.jsx)(o.default,{children:(0,v.jsx)(t.A,{size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:"communication_address_pincode",name:"communication_address_pincode",label:"PIN Code",value:m.values.communication_address_pincode,onChange:e=>B(e,"communication_address_pincode",m),error:m.touched.communication_address_pincode&&Boolean(m.errors.communication_address_pincode),helperText:m.touched.communication_address_pincode&&m.errors.communication_address_pincode,className:"login-input",InputLabelProps:{shrink:!0}})})]}),(0,v.jsx)("br",{}),(0,v.jsx)("h5",{children:"Documents"}),(0,v.jsxs)(s.default,{children:[(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(t.A,{size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:"aadhar_no",name:"aadhar_no",label:"Aadhar Number",value:m.values.aadhar_no,onChange:e=>((e,a)=>{const{value:r}=e.target,n=r.replace(/\D/g,"").slice(0,12);a.setFieldValue("aadhar_no",n)})(e,m),inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:12},error:m.touched.aadhar_no&&Boolean(m.errors.aadhar_no),helperText:m.touched.aadhar_no&&m.errors.aadhar_no,className:"login-input",InputLabelProps:{shrink:!0}})}),(0,v.jsxs)(o.default,{xs:4,children:[(0,v.jsx)(F.default,{name:"Aadhar Photo Front",onChange:e=>{(0,D.i)(e,"aadhar_photo_front","kyc",m,r,!1)},ref:e=>u.current.aadharPhotoFront=e}),(0,v.jsx)("br",{}),""!==m.values.aadhar_photo_front?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("br",{}),(0,v.jsx)("a",{href:m.values.aadhar_photo_front,children:m.values.aadhar_photo_front})]}):"",m.touched.aadhar_photo_front&&m.errors.aadhar_photo_front?(0,v.jsx)("div",{style:{color:"red"},children:m.errors.aadhar_photo_front}):null]}),(0,v.jsxs)(o.default,{xs:4,children:[(0,v.jsx)(F.default,{name:"Aadhar Photo Front",onChange:e=>{(0,D.i)(e,"aadhar_photo_back","kyc",m,r,!1)},ref:e=>u.current.aadharPhotoBack=e}),(0,v.jsx)("br",{}),""!==m.values.aadhar_photo_back?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("br",{}),(0,v.jsx)("a",{href:m.values.aadhar_photo_back,children:m.values.aadhar_photo_back})]}):"",m.touched.aadhar_photo_back&&m.errors.aadhar_photo_back?(0,v.jsx)("div",{style:{color:"red"},children:m.errors.aadhar_photo_back}):null]})]}),(0,v.jsxs)(s.default,{children:[(0,v.jsx)(o.default,{xs:4,children:(0,v.jsx)(t.A,{size:"small",margin:"dense",variant:"filled",fullWidth:!0,id:"pan_no",name:"pan_no",label:"PAN Number",value:m.values.pan_no,onChange:e=>{var a;(null===(a=e.target.value)||void 0===a?void 0:a.length)<=10&&m.handleChange(e)},inputProps:{maxLength:10,pattern:"[A-Za-z0-9]*"},error:m.touched.pan_no&&Boolean(m.errors.pan_no),helperText:m.touched.pan_no&&m.errors.pan_no,className:"login-input",InputLabelProps:{shrink:!0}})}),(0,v.jsxs)(o.default,{xs:4,children:[(0,v.jsx)(F.default,{name:"PAN Photo",onChange:e=>{(0,D.i)(e,"pan_photo","kyc",m,r,!0)},ref:e=>u.current.panPhoto=e}),(0,v.jsx)("br",{}),""!==m.values.pan_photo?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("br",{}),(0,v.jsx)("a",{href:m.values.pan_photo,children:m.values.pan_photo})]}):"",m.touched.pan_photo&&m.errors.pan_photo?(0,v.jsx)("div",{style:{color:"red"},children:m.errors.pan_photo}):null]})]}),(0,v.jsx)("br",{}),(0,v.jsx)(L.default,{id:"pf_no",name:"pf_no",label:"PF Number",formik:m}),(0,v.jsx)(L.default,{id:"esic_no",name:"esic_no",label:"ESIC Number",formik:m}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("h5",{children:"Insurance Details"}),(0,v.jsxs)(y,{row:!0,children:[(0,v.jsx)(q.A,{control:(0,v.jsx)(C.A,{name:"Mediclaim",onChange:e=>M(e,m)}),label:"Mediclaim"}),(0,v.jsx)(q.A,{control:(0,v.jsx)(C.A,{name:"Personal Accident",onChange:e=>M(e,m)}),label:"Personal Accident"}),(0,v.jsx)(q.A,{control:(0,v.jsx)(C.A,{name:"Not Available",onChange:e=>M(e,m)}),label:"Not Available"})]}),m.touched.insurance_status&&m.errors.insurance_status?(0,v.jsx)("div",{style:{color:"red"},children:m.errors.insurance_status}):null,(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("h5",{children:"Bank Details"}),(0,v.jsx)(L.default,{id:"bank_account_no",name:"bank_account_no",label:"Bank Account Number",formik:m}),(0,v.jsx)(L.default,{id:"bank_name",name:"bank_name",label:"Bank Name",formik:m}),(0,v.jsx)(L.default,{id:"ifsc_code",name:"ifsc_code",label:"IFSC",formik:m}),(0,v.jsx)(Y.default,{name:"Submit",isSubmitting:m.isSubmitting}),(0,v.jsx)(S.A,{open:a,message:"File uploaded successfully!",sx:{left:"auto !important",right:"24px !important"}})]})}const T=n.memo(R)},7256:(e,a,r)=>{r.d(a,{i:()=>i});var n=r(9246);const i=async(e,a,r,i,t,s)=>{const o=e.target.files;if(!o||0===o.length)return void alert("No file selected");try{const d=[];for(let a=0;a<o.length;a++){const i=o[a];if(i.size>5242880)return e.target.value=null,void alert(`File ${i.name} exceeds the 5MB limit.`);const t=await n.A.post("https://sameer-yadav.online/api/generate-presigned-url",{fileName:i.name,folderName:r,fileType:i.type}),{url:s}=t.data;await n.A.put(s,i,{headers:{"Content-Type":i.type}});const l=s.split("?")[0];d.push(l)}i.setValues((e=>({...e,[a]:s?d:d[0]}))),t(!0),e.target.value=null,setTimeout((()=>{t(!1)}),3e3)}catch(d){console.error("Error uploading file(s):",d),alert("Error uploading file(s). Please try again.")}}}}]);